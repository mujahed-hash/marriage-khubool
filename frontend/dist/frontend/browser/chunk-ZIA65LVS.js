import{a as A}from"./chunk-JJRD7MNC.js";import{a as T}from"./chunk-WNVLNEZI.js";import"./chunk-YRFZ7VUJ.js";import{Aa as b,Ba as v,C as O,E as r,H as M,I as S,Ja as E,Ka as w,La as D,N as y,R as u,Ra as I,S as C,Sa as N,Ua as q,W as _,X as e,Y as t,Z as l,da as P,fa as p,ha as m,pa as n,qa as x,ra as d,s as f,sa as k,t as g,x as h}from"./chunk-AY3CH6AK.js";function R(a,s){a&1&&l(0,"i",32)}function V(a,s){if(a&1&&(e(0,"p",40),n(1),t()),a&2){let i=m(2);r(),x(i.deleteError())}}function L(a,s){a&1&&(l(0,"i",44),n(1," Deleting... "))}function j(a,s){a&1&&(l(0,"i",45),n(1," Delete Profile "))}function U(a,s){if(a&1){let i=P();e(0,"div",33),p("click",function(){f(i);let c=m();return g(c.closeDeleteModal())}),e(1,"div",34),p("click",function(c){return f(i),g(c.stopPropagation())}),e(2,"div",35)(3,"h3"),l(4,"i",36),n(5," Delete Profile"),t(),e(6,"button",37),p("click",function(){f(i);let c=m();return g(c.closeDeleteModal())}),l(7,"i",38),t()(),e(8,"div",39)(9,"p"),n(10,"Are you sure you want to delete your profile? This action cannot be undone. You can create a new profile anytime."),t(),u(11,V,2,1,"p",40),t(),e(12,"div",41)(13,"button",42),p("click",function(){f(i);let c=m();return g(c.closeDeleteModal())}),n(14,"Cancel"),t(),e(15,"button",43),p("click",function(){f(i);let c=m();return g(c.confirmDelete())}),u(16,L,2,0)(17,j,2,0),t()()()()}if(a&2){let i=m();r(11),C(i.deleteError()?11:-1),r(4),_("disabled",i.isDeleting()),r(),C(i.isDeleting()?16:17)}}function B(a,s){if(a&1&&(e(0,"div",52)(1,"span",53),n(2,"Marital Status"),t(),e(3,"span",54),n(4),t()()),a&2){let i=m(3);r(4),x(i.profile.partnerPreferences.maritalStatus==null?null:i.profile.partnerPreferences.maritalStatus.join(", "))}}function Y(a,s){if(a&1&&(e(0,"div",52)(1,"span",53),n(2,"Religion"),t(),e(3,"span",54),n(4),t()()),a&2){let i=m(3);r(4),x(i.profile.partnerPreferences.religion)}}function F(a,s){if(a&1&&(e(0,"div",52)(1,"span",53),n(2,"Diet"),t(),e(3,"span",54),n(4),t()()),a&2){let i=m(3);r(4),x(i.profile.partnerPreferences.diet==null?null:i.profile.partnerPreferences.diet.join(", "))}}function G(a,s){if(a&1&&(e(0,"div",52)(1,"span",53),n(2,"Annual Income"),t(),e(3,"span",54),n(4),t()()),a&2){let i=m(3);r(4),x(i.profile.partnerPreferences.annualIncome)}}function H(a,s){if(a&1&&(e(0,"div",50)(1,"div",52)(2,"span",53),n(3,"Age"),t(),e(4,"span",54),n(5),t()(),y(6,B,5,1,"div",55)(7,Y,5,1,"div",55)(8,F,5,1,"div",55)(9,G,5,1,"div",55),t()),a&2){let i=m(2);r(5),k("",(i.profile.partnerPreferences.ageRange==null?null:i.profile.partnerPreferences.ageRange.min)||18," - ",(i.profile.partnerPreferences.ageRange==null?null:i.profile.partnerPreferences.ageRange.max)||40," yrs"),r(),_("ngIf",i.profile.partnerPreferences.maritalStatus==null?null:i.profile.partnerPreferences.maritalStatus.length),r(),_("ngIf",i.profile.partnerPreferences.religion==null?null:i.profile.partnerPreferences.religion.length),r(),_("ngIf",i.profile.partnerPreferences.diet==null?null:i.profile.partnerPreferences.diet.length),r(),_("ngIf",i.profile.partnerPreferences.annualIncome)}}function J(a,s){if(a&1){let i=P();e(0,"div",51),l(1,"i",56),e(2,"p",57),n(3,"You haven't added any partner requirements yet. Edit your profile to set them."),t(),e(4,"div",58)(5,"a",59),p("click",function(){f(i);let c=m(2);return g(c.closeRequirementsModal())}),n(6,"Update Profile"),t()()()}}function K(a,s){if(a&1){let i=P();e(0,"div",33),p("click",function(){f(i);let c=m();return g(c.closeRequirementsModal())}),e(1,"div",46),p("click",function(c){return f(i),g(c.stopPropagation())}),e(2,"div",35)(3,"h3",47),l(4,"i",48),n(5," Partner Requirements"),t(),e(6,"button",37),p("click",function(){f(i);let c=m();return g(c.closeRequirementsModal())}),l(7,"i",38),t()(),e(8,"div",49),u(9,H,10,6,"div",50)(10,J,7,0,"div",51),t()()()}if(a&2){let i=m();r(9),C(i.profile.partnerPreferences?9:10)}}var z=class a{constructor(s,i){this.profileService=s;this.router=i}showDeleteModal=h(!1);isDeleting=h(!1);deleteError=h("");showRequirementsModal=h(!1);get profile(){return this.profileService.profile()}ngOnInit(){this.profileService.fetchMyProfile()}openDeleteModal(){this.deleteError.set(""),this.showDeleteModal.set(!0)}closeDeleteModal(){this.showDeleteModal.set(!1),this.deleteError.set("")}openRequirementsModal(){this.showRequirementsModal.set(!0)}closeRequirementsModal(){this.showRequirementsModal.set(!1)}async confirmDelete(){this.isDeleting.set(!0),this.deleteError.set("");let s=await this.profileService.deleteProfile();this.isDeleting.set(!1),s?(this.closeDeleteModal(),this.router.navigate(["/create-profile"])):this.deleteError.set("Failed to delete profile. Please try again.")}getPlaceholderImg(s){return s==="female"?"assets/bride.png":"assets/groom.png"}static \u0275fac=function(i){return new(i||a)(M(T),M(I))};static \u0275cmp=S({type:a,selectors:[["app-dashboard"]],decls:98,vars:34,consts:[[1,"myprofilesection"],[1,"profile-nav"],["routerLink","/my-photos"],[1,"fa-solid","fa-file-image"],["routerLink","/my-requirements"],[1,"fa-solid","fa-file-circle-check"],["href","javascript:void(0)",3,"click"],[1,"fa-solid","fa-file-lines"],["routerLink","/shortlist"],[1,"fa-solid","fa-bookmark"],["routerLink","/interests"],[1,"fa-solid","fa-heart"],["routerLink","/create-profile"],[1,"fa-solid","fa-file-pen"],[1,"fa-solid","fa-file-circle-minus"],[1,"profile-id-inline"],["class","fa-solid fa-circle-check",4,"ngIf"],[1,"displaypic-container"],["loading","lazy","alt","profile",1,"displaypic",3,"src"],[1,"name"],["id","verfied",1,"material-symbols-outlined"],[1,"personal-details"],[1,"fa-solid","fa-circle-user"],[1,"education-occupation"],[1,"fa-solid","fa-graduation-cap"],[1,"contact-details"],[1,"fa-solid","fa-mobile-button"],[1,"family-details"],[1,"fa-solid","fa-people-roof"],[1,"residential-address"],[1,"fa-solid","fa-house-chimney"],[1,"modal-overlay"],[1,"fa-solid","fa-circle-check"],[1,"modal-overlay",3,"click"],[1,"modal-dialog",3,"click"],[1,"modal-header"],[1,"fa-solid","fa-triangle-exclamation"],["type","button","aria-label","Close",1,"modal-close",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"modal-error"],[1,"modal-footer"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-delete",3,"click","disabled"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"fa-solid","fa-trash"],[1,"modal-dialog","requirements-dialog",3,"click"],[2,"color","#db2777"],[1,"fa-solid","fa-file-circle-check",2,"color","#db2777"],[1,"modal-body","req-body"],[1,"req-grid"],[1,"empty-req"],[1,"req-item"],[1,"req-label"],[1,"req-value"],["class","req-item",4,"ngIf"],[1,"fa-solid","fa-clipboard-list",2,"font-size","3rem","color","#cbd5e1","margin-bottom","1rem","display","block","text-align","center"],[2,"text-align","center"],[2,"text-align","center","margin-top","1.5rem"],["routerLink","/create-profile",1,"btn-primary",2,"text-decoration","none","display","inline-block",3,"click"]],template:function(i,o){i&1&&(e(0,"div",0)(1,"div",1)(2,"a",2),l(3,"i",3),n(4," My Photos"),t(),e(5,"a",4),l(6,"i",5),n(7," My Requirements"),t(),e(8,"a",6),p("click",function(){return o.openRequirementsModal()}),l(9,"i",7),n(10," View Biodata"),t(),e(11,"a",8),l(12,"i",9),n(13," Shortlisted Profiles"),t(),e(14,"a",10),l(15,"i",11),n(16," My Interests"),t(),e(17,"a",12),l(18,"i",13),n(19," Edit Profile"),t(),e(20,"a",6),p("click",function(){return o.openDeleteModal()}),l(21,"i",14),n(22," Delete Profile"),t(),e(23,"span",15),n(24),y(25,R,1,0,"i",16),t()(),e(26,"div",17),l(27,"img",18),b(28,"photoUrl"),e(29,"h1",19),n(30),e(31,"span",20),n(32,"verified"),t()()(),e(33,"section",21)(34,"h2"),l(35,"i",22),n(36," Personal Details"),t(),e(37,"p"),n(38),t(),e(39,"p"),n(40),t(),e(41,"p"),n(42),b(43,"titlecase"),t(),e(44,"p"),n(45),b(46,"titlecase"),t(),e(47,"p"),n(48),t(),e(49,"p"),n(50),t(),e(51,"p"),n(52),b(53,"titlecase"),t()(),e(54,"section",23)(55,"h2"),l(56,"i",24),n(57," Education and Occupation"),t(),e(58,"p"),n(59),t(),e(60,"p"),n(61),t(),e(62,"p"),n(63),t()(),e(64,"section",25)(65,"h2"),l(66,"i",26),n(67," Contact Details"),t(),e(68,"p"),n(69),t(),e(70,"p"),n(71),t(),e(72,"p"),n(73),t()(),e(74,"section",27)(75,"h2"),l(76,"i",28),n(77," Family Details"),t(),e(78,"p"),n(79),t(),e(80,"p"),n(81),t(),e(82,"p"),n(83),t()(),e(84,"section",29)(85,"h2"),l(86,"i",30),n(87," Residential Address"),t(),e(88,"p"),n(89),t(),e(90,"p"),n(91),t(),e(92,"p"),n(93),t(),e(94,"p"),n(95),t()()(),u(96,U,18,3,"div",31),u(97,K,11,1,"div",31)),i&2&&(r(24),d("Profile ID: ",o.profile.profileId||"N/A"," "),r(),_("ngIf",o.profile.verificationDocUrl),r(2),_("src",v(28,26,o.profile.profilePhotoUrl)||o.getPlaceholderImg(o.profile.gender),O),r(3),x(o.profile.fullName||"N/A"),r(8),d("Name: ",o.profile.fullName||"N/A"),r(2),d("Date of Birth: ",o.profile.dateOfBirth||"N/A"),r(2),d("Gender: ",v(43,28,o.profile.gender||"N/A")),r(3),d("Religion: ",v(46,30,o.profile.religion||"N/A")),r(3),d("Mother Tongue: ",o.profile.motherTongue||"N/A"),r(2),d("Height: ",o.profile.height||"N/A"),r(2),d("Marital Status: ",v(53,32,o.profile.maritalStatus||"N/A")),r(7),d("Education: ",o.profile.highestEducation||"N/A"),r(2),d("Occupation: ",o.profile.occupation||"N/A"),r(2),d("Salary: ",o.profile.monthlyIncome||"N/A"),r(6),d("Email: ",o.profile.email||"N/A"),r(2),d("Contact No: ",o.profile.contactNo||"N/A"),r(2),d("Alternate No: ",o.profile.alternateNo||"N/A"),r(6),d("Father: ",o.profile.fatherStatus||o.profile.fatherName||"N/A"),r(2),d("Mother: ",o.profile.motherStatus||o.profile.motherName||"N/A"),r(2),d("Siblings: ",o.profile.siblings||"N/A"),r(6),d("City: ",o.profile.city||"N/A"),r(2),d("Locality: ",o.profile.locality||"N/A"),r(2),d("Pin Code: ",o.profile.pinCode||"N/A"),r(2),d("Native Place: ",o.profile.nativePlace||"N/A"),r(),C(o.showDeleteModal()?96:-1),r(),C(o.showRequirementsModal()?97:-1))},dependencies:[D,E,q,N,w,A],styles:['.myprofilesection[_ngcontent-%COMP%]{padding:0 1rem 1rem;font-family:Poppins,sans-serif;width:100%;max-width:1100px;margin:0 auto}.profile-nav[_ngcontent-%COMP%]{width:100%;min-height:auto;padding:1rem 1.25rem;background:linear-gradient(145deg,#f9b5ce,#f9b5ce,#ff94bf 40%,#ff79ad 60%,#ffb3cf);box-shadow:0 4px 15px #5a352366,inset 0 2px 5px #ffffff4d;border-radius:15px;margin-bottom:1.5rem;position:relative;background-size:200% 200%;animation:_ngcontent-%COMP%_shine 7s infinite ease-in-out}.profile-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .profile-nav[_ngcontent-%COMP%]   .profile-id-inline[_ngcontent-%COMP%]{display:inline-block;margin:.25rem .5rem .25rem 0}@keyframes _ngcontent-%COMP%_shine{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.profile-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;background-color:#fff8dc;padding:10px 18px;border-radius:10px;font-family:Lato,sans-serif;color:#c7004f;font-size:1rem;font-weight:900;transition:all .3s ease;box-shadow:0 4px 8px #0000001a;letter-spacing:.5px}.profile-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#c7004f;color:#fff;box-shadow:0 6px 12px #c7004f66;transform:scale(1.05)}.profile-id-inline[_ngcontent-%COMP%]{font-family:Lato,sans-serif;color:#7a7878;font-size:.95rem;font-weight:600}.displaypic-container[_ngcontent-%COMP%]{text-align:center;position:relative;margin-bottom:3rem}.displaypic[_ngcontent-%COMP%]{width:200px;height:200px;border:5px solid white;border-radius:50%;object-fit:cover;box-shadow:0 10px 20px #0003;transition:transform .3s ease}.displaypic[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.name[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-top:1rem;font-family:Arial,sans-serif;text-shadow:1px 1px 2px rgba(0,0,0,.1)}#verfied[_ngcontent-%COMP%]{color:#006b62;font-size:1.5rem;margin-left:.5rem;vertical-align:middle}section[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:2.5rem 2rem;margin-bottom:20px;box-shadow:0 4px 20px #0000001a;position:relative;overflow:hidden;transition:transform .3s ease}section[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:1.5rem;color:#ff416c;margin-bottom:1rem;text-transform:uppercase;border-bottom:3px solid #ff416c;display:inline-block;padding-bottom:5px}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;color:#444;margin:.8rem 0;line-height:1.6}section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:-50px;width:150px;height:100%;background:linear-gradient(135deg,#ff79ad,#ff94bf,#ffcce1);opacity:.2;transform:skew(-20deg);z-index:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:16px;max-width:440px;width:100%;box-shadow:0 24px 48px #0003;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#333}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#dc3545}.modal-close[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;color:#666;font-size:1.25rem;border-radius:8px;transition:background .2s,color .2s}.modal-close[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555;line-height:1.6}.modal-error[_ngcontent-%COMP%]{margin-top:1rem!important;color:#dc3545!important;font-size:.9rem}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end;padding:1rem 1.5rem;border-top:1px solid #eee;background:#fafafa;border-radius:0 0 16px 16px}.btn-cancel[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:1px solid #ddd;background:#fff;border-radius:10px;font-weight:600;cursor:pointer;color:#555;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#ccc}.btn-delete[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;background:#dc3545;color:#fff;border-radius:10px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:background .2s,opacity .2s}.btn-delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#c82333}.btn-delete[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.req-body[_ngcontent-%COMP%]{padding:1.5rem}.req-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.25rem}@media(max-width:480px){.req-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:768px){.myprofilesection[_ngcontent-%COMP%]{padding:0 .75rem 1rem;max-width:100%}.profile-nav[_ngcontent-%COMP%]{min-height:auto;padding:1rem;gap:.75rem;margin-bottom:1.5rem}.profile-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 16px;font-size:.95rem}.profile-nav[_ngcontent-%COMP%]   .profile-id-inline[_ngcontent-%COMP%]{font-size:.9rem}.displaypic-container[_ngcontent-%COMP%]{margin-bottom:2rem}.displaypic[_ngcontent-%COMP%]{width:140px;height:140px}.name[_ngcontent-%COMP%]{font-size:1.4rem}#verfied[_ngcontent-%COMP%]{font-size:1.2rem}section[_ngcontent-%COMP%]{padding:1.25rem 1rem;margin-bottom:1rem}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;margin:.5rem 0}}@media(max-width:480px){.myprofilesection[_ngcontent-%COMP%]{padding:0 .5rem .75rem}.profile-nav[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}.profile-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 12px;font-size:.85rem}.displaypic[_ngcontent-%COMP%]{width:120px;height:120px}.name[_ngcontent-%COMP%]{font-size:1.25rem}section[_ngcontent-%COMP%]{padding:1rem .75rem}}.req-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #f1f5f9}.req-label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.req-value[_ngcontent-%COMP%]{font-size:.95rem;color:#1e293b;font-weight:500}']})};export{z as DashboardComponent};
