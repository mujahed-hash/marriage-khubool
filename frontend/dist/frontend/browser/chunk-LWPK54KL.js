import{a as D}from"./chunk-2NXOLF2N.js";import{a as T}from"./chunk-JJRD7MNC.js";import"./chunk-YRFZ7VUJ.js";import{Aa as k,Ba as I,C as _,E as a,I as x,La as E,R as b,S as u,Sa as z,U as C,Ua as N,V as v,W as m,X as i,Y as o,Z as l,da as P,fa as S,ha as d,pa as r,qa as M,r as g,ra as O,s as f,sa as y,t as h,x as c,za as w}from"./chunk-AY3CH6AK.js";var U=t=>["/profile",t],j=(t,n)=>n._id;function V(t,n){t&1&&(i(0,"div",3),l(1,"div",6),i(2,"p"),r(3,"Loading shortlist..."),o()())}function B(t,n){t&1&&(i(0,"div",4),l(1,"i",2),i(2,"p"),r(3,"No profiles shortlisted yet."),o(),i(4,"a",7),r(5,"Browse Profiles"),o()())}function $(t,n){if(t&1){let e=P();i(0,"div",8),l(1,"img",9),k(2,"photoUrl"),i(3,"div",10)(4,"h3"),r(5),o(),i(6,"p",11),r(7),o(),i(8,"p",12),r(9),o()(),i(10,"div",13)(11,"a",14),r(12,"View"),o(),i(13,"button",15),S("click",function(){let F=f(e).$implicit,L=d(2);return h(L.remove(F._id))}),l(14,"i",16),o()()()}if(t&2){let e=n.$implicit,s=d(2);a(),m("src",I(2,6,e.profilePhotoUrl)||s.getPlaceholderImg(e.gender),_),a(4),M(e.fullName||"N/A"),a(2),y("",e.city||"N/A"," \xB7 ",e.occupation||""),a(2),O("ID: ",e.profileId||e._id),a(2),m("routerLink",w(8,U,e.profileId||e._id))}}function A(t,n){if(t&1&&(i(0,"div",5),C(1,$,15,10,"div",8,j),o()),t&2){let e=d();a(),v(e.profiles())}}var p=class t{profiles=c([]);loading=c(!0);shortlistService=g(D);ngOnInit(){this.loadShortlist()}async loadShortlist(){this.loading.set(!0);try{let n=await this.shortlistService.getShortlist();this.profiles.set(n.profiles||[])}catch{this.profiles.set([])}this.loading.set(!1)}async remove(n){try{await this.shortlistService.removeFromShortlist(n),this.profiles.update(e=>e.filter(s=>s._id!==n))}catch{}}getPlaceholderImg(n){return n==="female"?"assets/bride.png":"assets/groom.png"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-shortlist"]],decls:7,vars:1,consts:[[1,"shortlist-container"],[1,"page-heading"],[1,"fa-solid","fa-bookmark"],[1,"loading-state"],[1,"empty-state"],[1,"shortlist-grid"],[1,"spinner"],["routerLink","/",1,"btn-browse"],[1,"shortlist-card"],["loading","lazy","alt","Profile",1,"card-avatar",3,"src"],[1,"card-info"],[1,"card-meta"],[1,"card-id"],[1,"card-actions"],[1,"btn-view",3,"routerLink"],[1,"btn-remove",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"h1",1),l(2,"i",2),r(3," Shortlisted Profiles"),o(),b(4,V,4,0,"div",3)(5,B,6,0,"div",4)(6,A,3,0,"div",5),o()),e&2&&(a(4),u(s.loading()?4:s.profiles().length===0?5:6))},dependencies:[E,N,z,T],styles:[".shortlist-container[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:0 auto;padding:0 1rem;font-family:Inter,Segoe UI,system-ui,sans-serif}.page-heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem}.page-heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#db2777}.shortlist-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.shortlist-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;background:#fff;border-radius:14px;border:1px solid #e2e8f0;box-shadow:0 2px 6px #0000000a;transition:box-shadow .2s,transform .2s}.shortlist-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #00000014;transform:translateY(-1px)}.card-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;border:3px solid #fce7f3;flex-shrink:0}.card-info[_ngcontent-%COMP%]{flex:1}.card-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.05rem;font-weight:600;color:#0f172a}.card-meta[_ngcontent-%COMP%]{margin:.15rem 0;font-size:.85rem;color:#64748b}.card-id[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#94a3b8}.card-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.btn-view[_ngcontent-%COMP%]{padding:.45rem 1rem;border-radius:8px;background:#db2777;color:#fff;text-decoration:none;font-weight:600;font-size:.8rem;transition:background .2s}.btn-view[_ngcontent-%COMP%]:hover{background:#be185d}.btn-remove[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;border:none;background:#fee2e2;color:#ef4444;font-size:.9rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s}.btn-remove[_ngcontent-%COMP%]:hover{background:#fecaca}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;color:#64748b}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#cbd5e1;margin-bottom:.75rem}.btn-browse[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1.25rem;background:#db2777;color:#fff;border-radius:8px;text-decoration:none;font-weight:600;font-size:.9rem}.spinner[_ngcontent-%COMP%]{width:36px;height:36px;border:3px solid #f3f4f6;border-top-color:#db2777;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:.75rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};export{p as ShortlistComponent};
