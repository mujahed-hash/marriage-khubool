import{$b as B,Ca as v,Cb as N,Eb as k,La as I,Ma as P,Nb as A,Oa as S,Ob as F,Pa as y,Qa as b,R as x,Ra as t,Rb as z,S as M,Sa as n,Ub as W,Vb as j,Wb as U,Xa as O,Za as c,_a as g,_b as V,aa as p,ab as w,cb as i,db as m,eb as f,fb as E,gb as u,hb as _,ib as C,kb as D,mb as T,pa as a,xa as h}from"./chunk-RU7WV6XK.js";var R=(l,o)=>o._id;function q(l,o){l&1&&(t(0,"div",10),i(1,"Loading interests..."),n())}function G(l,o){if(l&1&&(t(0,"tr")(1,"td")(2,"div",16)(3,"div",17),i(4),n(),t(5,"div")(6,"div",18),i(7),n(),t(8,"div",19),i(9),n()()()(),t(10,"td")(11,"div",16)(12,"div",17),i(13),n(),t(14,"div")(15,"div",18),i(16),n(),t(17,"div",19),i(18),n()()()(),t(19,"td")(20,"span",20),i(21),n()(),t(22,"td",21),i(23),D(24,"date"),n()()),l&2){let e=o.$implicit;a(4),m((e.fromUserId==null||e.fromUserId.fullName==null?null:e.fromUserId.fullName.charAt(0))||"?"),a(3),m((e.fromUserId==null?null:e.fromUserId.fullName)||"\u2014"),a(2),m(e.fromUserId==null?null:e.fromUserId.email),a(4),m((e.toProfileId==null||e.toProfileId.fullName==null?null:e.toProfileId.fullName.charAt(0))||"?"),a(3),m((e.toProfileId==null?null:e.toProfileId.fullName)||"\u2014"),a(2),f("ID: ",(e.toProfileId==null?null:e.toProfileId.profileId)||"\u2014"),a(2),w("pending",e.status==="pending")("accepted",e.status==="accepted")("rejected",e.status==="rejected"),a(),f(" ",e.status," "),a(2),m(T(24,14,e.createdAt,"medium"))}}function H(l,o){l&1&&(t(0,"tr")(1,"td",22),i(2,"No interests found."),n()())}function J(l,o){if(l&1){let e=O();t(0,"table",11)(1,"thead")(2,"tr")(3,"th"),i(4,"From"),n(),t(5,"th"),i(6,"To"),n(),t(7,"th"),i(8,"Status"),n(),t(9,"th"),i(10,"Date"),n()()(),t(11,"tbody"),S(12,G,25,17,"tr",null,R,!1,H,3,0,"tr"),n()(),t(15,"div",12)(16,"button",13),c("click",function(){x(e);let s=g();return M(s.prevPage())}),i(17,"\u2190 Prev"),n(),t(18,"span",14),i(19),n(),t(20,"button",13),c("click",function(){x(e);let s=g();return M(s.nextPage())}),i(21,"Next \u2192"),n(),t(22,"span",15),i(23),n()()}if(l&2){let e=g();a(12),y(e.interests()),a(4),b("disabled",e.page()<=1),a(3),E("Page ",e.page()," of ",e.pages()),a(),b("disabled",e.page()>=e.pages()),a(3),f("",e.total()," total")}}var L=class l{constructor(o){this.api=o}interests=p([]);loading=p(!0);page=p(1);pages=p(1);total=p(0);filterStatus="";filterFromDate="";filterToDate="";ngOnInit(){this.load()}async load(){this.loading.set(!0);try{let o={page:this.page(),limit:30};this.filterStatus&&(o.status=this.filterStatus),this.filterFromDate&&(o.fromDate=this.filterFromDate),this.filterToDate&&(o.toDate=this.filterToDate);let e=await this.api.getInterests(o);this.interests.set(e.interests),this.total.set(e.total),this.pages.set(e.pages)}catch{}this.loading.set(!1)}prevPage(){this.page.update(o=>Math.max(1,o-1)),this.load()}nextPage(){this.page.update(o=>o+1),this.load()}static \u0275fac=function(e){return new(e||l)(h(B))};static \u0275cmp=v({type:l,selectors:[["app-interests"]],decls:16,vars:4,consts:[[1,"interests-page"],[1,"filters"],[1,"select-filter",3,"ngModelChange","ngModel"],["value",""],["value","pending"],["value","accepted"],["value","rejected"],["type","date","placeholder","From date",1,"date-filter",3,"ngModelChange","ngModel"],["type","date","placeholder","To date",1,"date-filter",3,"ngModelChange","ngModel"],[1,"table-card"],[1,"loading"],[1,"admin-table"],[1,"pagination"],[1,"btn-page",3,"click","disabled"],[1,"page-info"],[1,"total-info"],[1,"user-cell"],[1,"user-avatar"],[1,"user-name"],[1,"user-email"],[1,"status-badge"],[1,"date-cell"],["colspan","4",1,"empty-row"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"select",2),C("ngModelChange",function(d){return _(r.filterStatus,d)||(r.filterStatus=d),d}),c("ngModelChange",function(){return r.load()}),t(3,"option",3),i(4,"All Status"),n(),t(5,"option",4),i(6,"Pending"),n(),t(7,"option",5),i(8,"Accepted"),n(),t(9,"option",6),i(10,"Rejected"),n()(),t(11,"input",7),C("ngModelChange",function(d){return _(r.filterFromDate,d)||(r.filterFromDate=d),d}),c("ngModelChange",function(){return r.load()}),n(),t(12,"input",8),C("ngModelChange",function(d){return _(r.filterToDate,d)||(r.filterToDate=d),d}),c("ngModelChange",function(){return r.load()}),n()(),t(13,"div",9),I(14,q,2,0,"div",10)(15,J,24,6),n()()),e&2&&(a(2),u("ngModel",r.filterStatus),a(9),u("ngModel",r.filterFromDate),a(),u("ngModel",r.filterToDate),a(2),P(r.loading()?14:15))},dependencies:[k,V,j,U,A,W,F,z,N],styles:[".interests-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.filters[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.select-filter[_ngcontent-%COMP%], .date-filter[_ngcontent-%COMP%]{padding:.6rem .9rem;border-radius:8px;border:1px solid #334155;background:#1e293b;color:#f1f5f9;font-size:.9rem;outline:none}.table-card[_ngcontent-%COMP%]{background:#1e293b;border-radius:12px;border:1px solid #334155;overflow:hidden}.loading[_ngcontent-%COMP%], .empty-row[_ngcontent-%COMP%]{color:#94a3b8;text-align:center;padding:3rem}.admin-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#0f172a}th[_ngcontent-%COMP%]{color:#64748b;font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;padding:.75rem 1rem;text-align:left}td[_ngcontent-%COMP%]{padding:.85rem 1rem;border-top:1px solid #334155;color:#f1f5f9;font-size:.9rem;vertical-align:middle}.user-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#f1f5f9}.user-email[_ngcontent-%COMP%], .date-cell[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem}.status-badge[_ngcontent-%COMP%]{padding:.2rem .6rem;border-radius:12px;font-size:.75rem;font-weight:600}.status-badge.pending[_ngcontent-%COMP%]{background:#451a03;color:#fb923c}.status-badge.accepted[_ngcontent-%COMP%]{background:#052e16;color:#4ade80}.status-badge.rejected[_ngcontent-%COMP%]{background:#450a0a;color:#f87171}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;border-top:1px solid #334155}.btn-page[_ngcontent-%COMP%]{padding:.4rem .9rem;border-radius:6px;border:1px solid #334155;background:#0f172a;color:#94a3b8;font-size:.85rem;cursor:pointer}.btn-page[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem}.total-info[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem;margin-left:auto}"]})};export{L as InterestsComponent};
