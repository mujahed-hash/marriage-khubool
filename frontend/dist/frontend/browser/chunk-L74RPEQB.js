import{b as J,c as A,d as D,e as W,f as j,g as z,h as B,i as Y,j as U,l as H,m as G,n as $,p as K}from"./chunk-AKKU7WAO.js";import{a as Q}from"./chunk-6DK54TEO.js";import"./chunk-DQJ6WRPO.js";import{E as a,I as T,La as F,R as _,S as u,T as b,U as M,Ua as L,V as y,W as I,X as t,Y as n,Z as f,a as x,da as C,fa as h,ha as d,na as S,pa as o,qa as m,r as k,ra as V,s as p,sa as N,t as g,ta as q,ua as P,va as E,x as v,ya as w}from"./chunk-AY3CH6AK.js";var X=()=>["Never Married","Divorced","Widowed","Separated"],Z=()=>["Muslim","Hindu","Christian","Sikh","Buddhist","Jain","Other"],ee=()=>["Vegetarian","Non-Vegetarian","Eggetarian","Vegan","Jain"],te=()=>["Hindi","Urdu","English","Tamil","Telugu","Kannada","Malayalam","Bengali","Marathi","Gujarati","Punjabi","Other"],ne=()=>["Very Fair","Fair","Wheatish","Dark"];function ie(i,r){i&1&&(t(0,"div",3),f(1,"div",6),t(2,"p"),o(3,"Loading requirements..."),n()())}function oe(i,r){if(i&1){let e=C();t(0,"button",37),h("click",function(){let s=p(e).$implicit,c=d(2);return g(c.toggleItem(c.prefs.maritalStatus,s))}),o(1),n()}if(i&2){let e=r.$implicit,l=d(2);S("active",l.isSelected(l.prefs.maritalStatus,e)),a(),m(e)}}function re(i,r){if(i&1){let e=C();t(0,"button",37),h("click",function(){let s=p(e).$implicit,c=d(2);return g(c.toggleItem(c.prefs.religion,s))}),o(1),n()}if(i&2){let e=r.$implicit,l=d(2);S("active",l.isSelected(l.prefs.religion,e)),a(),m(e)}}function ae(i,r){if(i&1){let e=C();t(0,"button",37),h("click",function(){let s=p(e).$implicit,c=d(2);return g(c.toggleItem(c.prefs.diet,s))}),o(1),n()}if(i&2){let e=r.$implicit,l=d(2);S("active",l.isSelected(l.prefs.diet,e)),a(),m(e)}}function le(i,r){if(i&1){let e=C();t(0,"button",37),h("click",function(){let s=p(e).$implicit,c=d(2);return g(c.toggleItem(c.prefs.motherTongue,s))}),o(1),n()}if(i&2){let e=r.$implicit,l=d(2);S("active",l.isSelected(l.prefs.motherTongue,e)),a(),m(e)}}function se(i,r){if(i&1){let e=C();t(0,"button",37),h("click",function(){let s=p(e).$implicit,c=d(2);return g(c.toggleItem(c.prefs.complexion,s))}),o(1),n()}if(i&2){let e=r.$implicit,l=d(2);S("active",l.isSelected(l.prefs.complexion,e)),a(),m(e)}}function de(i,r){if(i&1){let e=C();t(0,"button",38),h("click",function(){p(e);let s=d(2);return g(s.cancelEditing())}),o(1,"Cancel"),n()}}function ce(i,r){if(i&1&&(t(0,"div",36),o(1),n()),i&2){let e=d(2);a(),m(e.message())}}function me(i,r){if(i&1){let e=C();t(0,"form",7),h("ngSubmit",function(){p(e);let s=d();return g(s.saveRequirements())}),t(1,"section",8)(2,"h2"),f(3,"i",9),o(4," Age Preference"),n(),t(5,"div",10)(6,"div",11)(7,"label"),o(8,"Min Age"),n(),t(9,"input",12),E("ngModelChange",function(s){p(e);let c=d();return P(c.prefs.ageRange.min,s)||(c.prefs.ageRange.min=s),g(s)}),n()(),t(10,"span",13),o(11,"to"),n(),t(12,"div",11)(13,"label"),o(14,"Max Age"),n(),t(15,"input",14),E("ngModelChange",function(s){p(e);let c=d();return P(c.prefs.ageRange.max,s)||(c.prefs.ageRange.max=s),g(s)}),n()()()(),t(16,"section",8)(17,"h2"),f(18,"i",15),o(19," Marital Status"),n(),t(20,"div",16),M(21,oe,2,3,"button",17,b),n()(),t(23,"section",8)(24,"h2"),f(25,"i",18),o(26," Religion"),n(),t(27,"div",16),M(28,re,2,3,"button",17,b),n()(),t(30,"section",8)(31,"h2"),f(32,"i",19),o(33," Diet"),n(),t(34,"div",16),M(35,ae,2,3,"button",17,b),n()(),t(37,"section",8)(38,"h2"),f(39,"i",20),o(40," Mother Tongue"),n(),t(41,"div",16),M(42,le,2,3,"button",17,b),n()(),t(44,"section",8)(45,"h2"),f(46,"i",21),o(47," Location Preference"),n(),t(48,"div",11)(49,"label"),o(50,"Preferred City"),n(),t(51,"input",22),E("ngModelChange",function(s){p(e);let c=d();return P(c.prefs.city,s)||(c.prefs.city=s),g(s)}),n()()(),t(52,"section",8)(53,"h2"),f(54,"i",23),o(55," Annual Income"),n(),t(56,"div",11)(57,"label"),o(58,"Minimum Annual Income"),n(),t(59,"select",24),E("ngModelChange",function(s){p(e);let c=d();return P(c.prefs.annualIncome,s)||(c.prefs.annualIncome=s),g(s)}),t(60,"option",25),o(61,"Any"),n(),t(62,"option",26),o(63,"2-4 Lakhs"),n(),t(64,"option",27),o(65,"4-6 Lakhs"),n(),t(66,"option",28),o(67,"6-10 Lakhs"),n(),t(68,"option",29),o(69,"10-15 Lakhs"),n(),t(70,"option",30),o(71,"15-25 Lakhs"),n(),t(72,"option",31),o(73,"25+ Lakhs"),n()()()(),t(74,"section",8)(75,"h2"),f(76,"i",32),o(77," Complexion"),n(),t(78,"div",16),M(79,se,2,3,"button",17,b),n()(),t(81,"div",33),_(82,de,2,0,"button",34),t(83,"button",35),o(84),n()(),_(85,ce,2,1,"div",36),n()}if(i&2){let e=d();a(9),q("ngModel",e.prefs.ageRange.min),a(6),q("ngModel",e.prefs.ageRange.max),a(6),y(w(8,X)),a(7),y(w(9,Z)),a(7),y(w(10,ee)),a(7),y(w(11,te)),a(9),q("ngModel",e.prefs.city),a(8),q("ngModel",e.prefs.annualIncome),a(20),y(w(12,ne)),a(3),u(e.hasRequirements?82:-1),a(),I("disabled",e.saving()),a(),V(" ",e.saving()?"Saving...":e.hasRequirements?"Update Requirements":"Save Requirements"," "),a(),u(e.message()?85:-1)}}function pe(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Marital Status"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.maritalStatus.join(", "))}}function ge(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Religion"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.religion.join(", "))}}function _e(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Mother Tongue"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.motherTongue.join(", "))}}function ue(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Diet"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.diet.join(", "))}}function fe(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Location (State)"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.state.join(", "))}}function xe(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"City"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.city)}}function Ce(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Annual Income"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.annualIncome)}}function he(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Complexion"),n(),t(3,"span",46),o(4),n()()),i&2){let e=d();a(4),m(e.complexion.join(", "))}}function ve(i,r){if(i&1&&(t(0,"div",44)(1,"span",45),o(2,"Age"),n(),t(3,"span",46),o(4),n()(),_(5,pe,5,1,"div",44),_(6,ge,5,1,"div",44),_(7,_e,5,1,"div",44),_(8,ue,5,1,"div",44),_(9,fe,5,1,"div",44),_(10,xe,5,1,"div",44),_(11,Ce,5,1,"div",44),_(12,he,5,1,"div",44)),i&2){let e=r;a(4),N("",e.ageRange.min," - ",e.ageRange.max," yrs"),a(),u(e.maritalStatus&&e.maritalStatus.length?5:-1),a(),u(e.religion&&e.religion.length?6:-1),a(),u(e.motherTongue&&e.motherTongue.length?7:-1),a(),u(e.diet&&e.diet.length?8:-1),a(),u(e.state&&e.state.length?9:-1),a(),u(e.city?10:-1),a(),u(e.annualIncome?11:-1),a(),u(e.complexion&&e.complexion.length?12:-1)}}function be(i,r){if(i&1){let e=C();t(0,"div",5)(1,"div",39)(2,"p",40),o(3,"Your partner preferences are set. You can edit them anytime."),n(),t(4,"button",41),h("click",function(){p(e);let s=d();return g(s.startEditing())}),f(5,"i",42),o(6," Edit Requirements "),n()(),t(7,"div",43),_(8,ve,13,10),n()()}if(i&2){let e,l=d();a(8),u((e=l.savedPrefs())?8:-1,e)}}var O={ageRange:{min:18,max:40},heightRange:{min:"",max:""},maritalStatus:[],religion:[],motherTongue:[],diet:[],country:[],state:[],city:"",complexion:[],annualIncome:""},R=class i{loading=v(!0);saving=v(!1);message=v("");editing=v(!1);savedPrefs=v(null);prefs=x({},JSON.parse(JSON.stringify(O)));profileService=k(Q);ngOnInit(){this.loadRequirements()}async loadRequirements(){this.loading.set(!0),this.editing.set(!1);try{let r=await this.profileService.fetchMyProfile();if(r?.partnerPreferences){let e=x(x({},O),r.partnerPreferences);this.prefs=x({},JSON.parse(JSON.stringify(e))),this.savedPrefs.set(x({},JSON.parse(JSON.stringify(e))))}else this.prefs=x({},JSON.parse(JSON.stringify(O))),this.savedPrefs.set(null)}catch{this.savedPrefs.set(null)}this.loading.set(!1)}startEditing(){this.editing.set(!0)}cancelEditing(){let r=this.savedPrefs();r?this.prefs=x({},JSON.parse(JSON.stringify(r))):this.prefs=x({},JSON.parse(JSON.stringify(O))),this.editing.set(!1)}async saveRequirements(){this.saving.set(!0);try{this.profileService.updateProfile({partnerPreferences:this.prefs}),await this.profileService.saveProfile()?(this.savedPrefs.set(x({},JSON.parse(JSON.stringify(this.prefs)))),this.editing.set(!1),this.showMessage("Requirements saved!")):this.showMessage("Failed to save requirements.")}catch{this.showMessage("Failed to save requirements.")}this.saving.set(!1)}get hasRequirements(){return this.savedPrefs()!=null}get showForm(){return!this.hasRequirements||this.editing()}toggleItem(r,e){let l=r.indexOf(e);l>-1?r.splice(l,1):r.push(e)}isSelected(r,e){return r.includes(e)}showMessage(r){this.message.set(r),setTimeout(()=>this.message.set(""),3e3)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-my-requirements"]],decls:7,vars:1,consts:[[1,"requirements-container"],[1,"page-heading"],[1,"fa-solid","fa-file-circle-check"],[1,"loading-state"],[1,"req-form"],[1,"req-view"],[1,"spinner"],[1,"req-form",3,"ngSubmit"],[1,"req-section"],[1,"fa-solid","fa-calendar-days"],[1,"range-row"],[1,"field"],["type","number","name","minAge","min","18","max","60",1,"input",3,"ngModelChange","ngModel"],[1,"range-sep"],["type","number","name","maxAge","min","18","max","60",1,"input",3,"ngModelChange","ngModel"],[1,"fa-solid","fa-ring"],[1,"chip-group"],["type","button",1,"chip",3,"active"],[1,"fa-solid","fa-mosque"],[1,"fa-solid","fa-utensils"],[1,"fa-solid","fa-language"],[1,"fa-solid","fa-location-dot"],["type","text","name","city","placeholder","e.g. Hyderabad, Mumbai",1,"input",3,"ngModelChange","ngModel"],[1,"fa-solid","fa-indian-rupee-sign"],["name","annualIncome",1,"input",3,"ngModelChange","ngModel"],["value",""],["value","2-4 Lakhs"],["value","4-6 Lakhs"],["value","6-10 Lakhs"],["value","10-15 Lakhs"],["value","15-25 Lakhs"],["value","25+ Lakhs"],[1,"fa-solid","fa-palette"],[1,"req-actions"],["type","button",1,"btn-cancel"],["type","submit",1,"btn-save",3,"disabled"],[1,"req-toast"],["type","button",1,"chip",3,"click"],["type","button",1,"btn-cancel",3,"click"],[1,"req-view-header"],[1,"req-view-intro"],["type","button",1,"btn-edit",3,"click"],[1,"fa-solid","fa-pen"],[1,"req-view-grid"],[1,"req-view-item"],[1,"req-view-label"],[1,"req-view-value"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"h1",1),f(2,"i",2),o(3," My Requirements"),n(),_(4,ie,4,0,"div",3)(5,me,86,13,"form",4)(6,be,9,1,"div",5),n()),e&2&&(a(4),u(l.loading()?4:l.showForm?5:6))},dependencies:[F,K,z,U,H,J,B,Y,A,D,$,G,j,W,L],styles:[".requirements-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:800px;margin:0 auto;font-family:Poppins,Inter,sans-serif}.page-heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin-bottom:1.5rem}.page-heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#db2777;margin-right:.5rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#94a3b8}.spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid #f3f4f6;border-top-color:#db2777;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.req-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.req-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem 1.5rem;box-shadow:0 1px 4px #0000000f;border:1px solid #f1f5f9}.req-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#334155;margin:0 0 1rem}.req-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#db2777;margin-right:.5rem;width:20px;text-align:center}.range-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1rem}.range-sep[_ngcontent-%COMP%]{padding-bottom:.5rem;color:#94a3b8;font-weight:500}.field[_ngcontent-%COMP%]{flex:1}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:500;color:#64748b;margin-bottom:.35rem}.input[_ngcontent-%COMP%]{width:100%;padding:.6rem .85rem;border-radius:8px;border:1px solid #e2e8f0;font-size:.9rem;outline:none;transition:border-color .2s;box-sizing:border-box}.input[_ngcontent-%COMP%]:focus{border-color:#db2777}.chip-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.chip[_ngcontent-%COMP%]{padding:.45rem 1rem;border-radius:20px;border:1.5px solid #e2e8f0;background:#fff;color:#475569;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .2s}.chip[_ngcontent-%COMP%]:hover{border-color:#db2777;background:#db2777;color:#fff}.chip.active[_ngcontent-%COMP%]{background:#db2777;color:#fff;border-color:#db2777}.req-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;align-items:center;margin-top:.5rem}.btn-cancel[_ngcontent-%COMP%]{padding:.7rem 1.5rem;border-radius:10px;border:1px solid #e2e8f0;background:#fff;color:#64748b;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1}.btn-save[_ngcontent-%COMP%]{padding:.7rem 2.5rem;border-radius:10px;border:none;background:linear-gradient(135deg,#db2777,#be185d);color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;letter-spacing:.5px}.btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #db27774d}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.req-toast[_ngcontent-%COMP%]{text-align:center;padding:.65rem 1.25rem;background:#10b981;color:#fff;border-radius:8px;font-weight:500;margin-top:.5rem;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.req-view[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 4px #0000000f;border:1px solid #f1f5f9}.req-view-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #e2e8f0}.req-view-intro[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:.95rem}.btn-edit[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border-radius:10px;border:none;background:#db2777;color:#fff;font-size:.9rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s}.btn-edit[_ngcontent-%COMP%]:hover{background:#be185d;transform:translateY(-1px)}.req-view-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem}.req-view-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.75rem 1rem;background:#f8fafc;border-radius:8px;border:1px solid #f1f5f9}.req-view-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.req-view-value[_ngcontent-%COMP%]{font-size:.95rem;color:#1e293b;font-weight:500}@media(max-width:600px){.requirements-container[_ngcontent-%COMP%]{padding:1rem}.range-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.range-sep[_ngcontent-%COMP%]{display:none}}"]})};export{R as MyRequirementsComponent};
