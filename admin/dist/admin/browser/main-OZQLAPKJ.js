import{a as pt,b as gt,c as We,d as Z,e as _t,f as xt,g as Ct}from"./chunk-H5DOWRHO.js";import{$ as at,$a as mt,$b as Ve,Ca as A,Cb as Fe,Db as ct,Eb as G,H as rt,Jb as ut,Kb as ft,L as tt,La as b,Lb as H,M as nt,Ma as h,Mb as vt,Na as le,Nb as Ue,Oa as T,Ob as Ie,Pa as D,Pb as Re,Qa as y,Qb as Le,R as g,Ra as e,Rb as Te,S as _,Sa as n,Sb as Be,Ta as X,Ua as C,Ub as je,Va as v,Vb as Ge,Wa as dt,Wb as Ye,Xa as U,Ya as st,Za as p,Zb as Ke,_a as c,_b as De,a as it,aa as x,ab as O,bb as oe,cb as t,db as s,eb as k,fb as K,gb as E,hb as P,ib as M,jb as re,kb as z,lb as ke,mb as Ne,n as lt,na as ie,pa as l,u as ot,xa as V}from"./chunk-RU7WV6XK.js";var ee=class r{constructor(a,i){this.http=a;this.router=i}TOKEN_KEY="admin_token";USER_KEY="admin_user";async login(a,i){let o=await lt(this.http.post(`${H.apiUrl}/auth/login`,{email:a,password:i}));if(!o.user?.isAdmin)throw new Error("Access denied. Admin account required.");localStorage.setItem(this.TOKEN_KEY,o.token),localStorage.setItem(this.USER_KEY,JSON.stringify(o.user))}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),this.router.navigate(["/login"])}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getUser(){let a=localStorage.getItem(this.USER_KEY);return a?JSON.parse(a):null}isLoggedIn(){return!!this.getToken()}static \u0275fac=function(i){return new(i||r)(tt(ut),tt(Z))};static \u0275prov=rt({token:r,factory:r.\u0275fac,providedIn:"root"})};var St=()=>{let r=nt(ee),a=nt(Z);return r.isLoggedIn()?!0:(a.navigate(["/login"]),!1)};function Ot(r,a){if(r&1&&(e(0,"div",8),t(1),n()),r&2){let i=c();l(),s(i.error())}}var He=class r{constructor(a,i){this.auth=a;this.router=i;this.auth.isLoggedIn()&&this.router.navigate(["/"])}email="";password="";loading=x(!1);error=x("");async onLogin(){this.loading.set(!0),this.error.set("");try{await this.auth.login(this.email,this.password),this.router.navigate(["/"])}catch(a){this.error.set(a.error?.message||a.message||"Login failed.")}finally{this.loading.set(!1)}}static \u0275fac=function(i){return new(i||r)(V(ee),V(Z))};static \u0275cmp=A({type:r,selectors:[["app-login"]],decls:21,vars:5,consts:[[1,"login-page"],[1,"login-card"],[1,"login-logo"],[1,"login-icon"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["type","email","name","email","required","","placeholder","admin@example.com",1,"input",3,"ngModelChange","ngModel"],["type","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input",3,"ngModelChange","ngModel"],[1,"error-msg"],["type","submit",1,"btn-login",3,"disabled"]],template:function(i,o){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t(4,"\u{1F6E1}\uFE0F"),n(),e(5,"h1"),t(6,"Admin Portal"),n(),e(7,"p"),t(8,"Khubool Hai \u2014 Administration"),n()(),e(9,"form",4),p("ngSubmit",function(){return o.onLogin()}),e(10,"div",5)(11,"label"),t(12,"Email"),n(),e(13,"input",6),M("ngModelChange",function(m){return P(o.email,m)||(o.email=m),m}),n()(),e(14,"div",5)(15,"label"),t(16,"Password"),n(),e(17,"input",7),M("ngModelChange",function(m){return P(o.password,m)||(o.password=m),m}),n()(),b(18,Ot,2,1,"div",8),e(19,"button",9),t(20),n()()()()),i&2&&(l(13),E("ngModel",o.email),l(4),E("ngModel",o.password),l(),h(o.error()?18:-1),l(),y("disabled",o.loading()),l(),k(" ",o.loading()?"Signing in...":"Sign In"," "))},dependencies:[G,De,Be,Ue,Ie,Re,Ke,Te,Le],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;background:#0f172a;display:flex;align-items:center;justify-content:center}.login-card[_ngcontent-%COMP%]{background:#1e293b;border-radius:16px;padding:2.5rem;width:100%;max-width:400px;box-shadow:0 25px 50px #0006}.login-logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-icon[_ngcontent-%COMP%]{font-size:3rem}h1[_ngcontent-%COMP%]{color:#f1f5f9;font-size:1.5rem;margin:.5rem 0 .25rem}p[_ngcontent-%COMP%]{color:#64748b;margin:0;font-size:.9rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}label[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem;font-weight:600}.input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;border:1px solid #334155;background:#0f172a;color:#f1f5f9;font-size:.95rem;outline:none;transition:border-color .2s}.input[_ngcontent-%COMP%]:focus{border-color:#6366f1}.btn-login[_ngcontent-%COMP%]{padding:.85rem;border-radius:10px;border:none;background:#6366f1;color:#fff;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){background:#4f46e5;transform:translateY(-1px)}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.error-msg[_ngcontent-%COMP%]{background:#7f1d1d;color:#fca5a5;padding:.65rem 1rem;border-radius:8px;font-size:.85rem}"]})};var kt=(r,a)=>a.route;function Ut(r,a){if(r&1&&(e(0,"a",16)(1,"span",17),t(2),n(),e(3,"span",18),t(4),n()()),r&2){let i=a.$implicit,o=c();O("active",o.isActive(i.route)),y("routerLink",i.route),l(2),s(i.icon),l(2),s(i.label)}}var qe=class r{constructor(a,i){this.auth=a;this.router=i;let o=this.auth.getUser();o?.fullName&&(this.adminName.set(o.fullName),this.adminInitial.set(o.fullName.charAt(0).toUpperCase())),this.router.events.pipe(ot(d=>d instanceof gt)).subscribe(d=>{this.currentRoute.set(d.urlAfterRedirects);let m=this.navItems.find(w=>d.urlAfterRedirects.startsWith(w.route));this.pageTitle.set(m?.label||"Admin")})}navItems=[{label:"Dashboard",icon:"\u{1F4CA}",route:"/dashboard"},{label:"Users",icon:"\u{1F465}",route:"/users"},{label:"Profiles",icon:"\u{1F464}",route:"/profiles"},{label:"Reports",icon:"\u{1F6A9}",route:"/reports"},{label:"Revenue",icon:"\u{1F4B3}",route:"/orders"},{label:"Interests",icon:"\u{1F491}",route:"/interests"},{label:"Chats",icon:"\u{1F4AC}",route:"/conversations"},{label:"Settings",icon:"\u2699\uFE0F",route:"/settings"},{label:"Audit Log",icon:"\u{1F4CB}",route:"/audit-log"},{label:"Announcements",icon:"\u{1F4E2}",route:"/announcements"}];currentRoute=x("");pageTitle=x("Dashboard");adminName=x("Admin");adminInitial=x("A");isActive(a){return this.currentRoute().startsWith(a)}logout(){this.auth.logout()}static \u0275fac=function(i){return new(i||r)(V(ee),V(Z))};static \u0275cmp=A({type:r,selectors:[["app-layout"]],decls:26,vars:3,consts:[[1,"admin-shell"],[1,"sidebar"],[1,"sidebar-brand"],[1,"brand-text"],[1,"sidebar-nav"],[1,"nav-item",3,"routerLink","active"],[1,"sidebar-footer"],[1,"admin-info"],[1,"admin-avatar"],[1,"admin-name"],[1,"btn-logout",3,"click"],[1,"main-area"],[1,"topbar"],[1,"page-title"],[1,"topbar-badge"],[1,"page-content"],[1,"nav-item",3,"routerLink"],[1,"nav-icon"],[1,"nav-label"]],template:function(i,o){i&1&&(e(0,"div",0)(1,"aside",1)(2,"div",2)(3,"span"),t(4,"\u{1F6E1}\uFE0F"),n(),e(5,"span",3),t(6,"Admin"),n()(),e(7,"nav",4),T(8,Ut,5,5,"a",5,kt),n(),e(10,"div",6)(11,"div",7)(12,"span",8),t(13),n(),e(14,"span",9),t(15),n()(),e(16,"button",10),p("click",function(){return o.logout()}),t(17,"Logout"),n()()(),e(18,"div",11)(19,"header",12)(20,"h2",13),t(21),n(),e(22,"span",14),t(23,"Admin"),n()(),e(24,"main",15),X(25,"router-outlet"),n()()()),i&2&&(l(8),D(o.navItems),l(5),s(o.adminInitial()),l(2),s(o.adminName()),l(6),s(o.pageTitle()))},dependencies:[G,Ct,We,_t],styles:[".admin-shell[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:#0f172a}.sidebar[_ngcontent-%COMP%]{width:220px;min-width:220px;background:#1e293b;display:flex;flex-direction:column;border-right:1px solid #334155}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem 1.25rem;font-size:1.1rem;font-weight:700;color:#f1f5f9;border-bottom:1px solid #334155}.brand-text[_ngcontent-%COMP%]{color:#f1f5f9}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem 0;display:flex;flex-direction:column;gap:.25rem}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1.25rem;color:#94a3b8;text-decoration:none;border-radius:8px;margin:0 .5rem;font-size:.9rem;font-weight:500;transition:all .2s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{background:#334155;color:#f1f5f9}.nav-item.active[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;min-width:20px;text-align:center}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #334155}.admin-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.admin-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem}.admin-name[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px}.btn-logout[_ngcontent-%COMP%]{width:100%;padding:.5rem;border-radius:8px;border:1px solid #ef4444;background:transparent;color:#ef4444;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-logout[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.main-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.topbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;background:#1e293b;border-bottom:1px solid #334155}.page-title[_ngcontent-%COMP%]{color:#f1f5f9;font-size:1.25rem;font-weight:700;margin:0}.topbar-badge[_ngcontent-%COMP%]{background:#6366f1;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600}.page-content[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}"]})};var It=(r,a)=>a._id;function Tt(r,a){r&1&&(C(0,"div",1),t(1,"Loading stats..."),v())}function Dt(r,a){if(r&1&&(C(0,"div",14),dt(1,"div",15),C(2,"span",16),t(3),v()()),r&2){let i=a.$implicit,o=c(3);st("title",i._id+": "+i.count+" users"),l(),mt("height",i.count/o.maxReg()*100,"%"),l(2),s(i._id.slice(8))}}function Vt(r,a){if(r&1&&(C(0,"div",12),T(1,Dt,4,4,"div",14,It),v()),r&2){let i=c(2);l(),D(i.stats().registrationChart)}}function At(r,a){r&1&&(C(0,"p",13),t(1,"No registration data yet."),v())}function Nt(r,a){if(r&1&&(C(0,"div",2)(1,"div",3)(2,"div",4),t(3,"\u{1F465}"),v(),C(4,"div",5)(5,"div",6),t(6),z(7,"number"),v(),C(8,"div",7),t(9,"Total Users"),v(),C(10,"div",8),t(11),v()()(),C(12,"div",3)(13,"div",4),t(14,"\u{1F464}"),v(),C(15,"div",5)(16,"div",6),t(17),z(18,"number"),v(),C(19,"div",7),t(20,"Active Profiles"),v(),C(21,"div",8),t(22),v()()(),C(23,"div",9)(24,"div",4),t(25,"\u{1F6A9}"),v(),C(26,"div",5)(27,"div",6),t(28),v(),C(29,"div",7),t(30,"Pending Reports"),v(),C(31,"div",8),t(32,"Requires review"),v()()(),C(33,"div",10)(34,"div",4),t(35,"\u{1F4B3}"),v(),C(36,"div",5)(37,"div",6),t(38),z(39,"number"),v(),C(40,"div",7),t(41,"Total Revenue"),v(),C(42,"div",8),t(43),v()()(),C(44,"div",3)(45,"div",4),t(46,"\u{1F491}"),v(),C(47,"div",5)(48,"div",6),t(49),z(50,"number"),v(),C(51,"div",7),t(52,"Interests Sent"),v(),C(53,"div",8),t(54),v()()(),C(55,"div",3)(56,"div",4),t(57,"\u{1F4C8}"),v(),C(58,"div",5)(59,"div",6),t(60),z(61,"number"),v(),C(62,"div",7),t(63,"New This Month"),v(),C(64,"div",8),t(65,"Registrations"),v()()()(),C(66,"div",11)(67,"h3"),t(68,"Registrations \u2014 Last 30 Days"),v(),b(69,Vt,3,0,"div",12)(70,At,2,0,"p",13),v()),r&2){let i,o=c();l(6),s(ke(7,11,o.stats().totalUsers)),l(5),k("+",o.stats().newUsersToday," today"),l(6),s(ke(18,13,o.stats().totalProfiles)),l(5),k("+",o.stats().newUsersThisWeek," this week"),l(6),s(o.stats().pendingReports),l(10),k("\u20B9",ke(39,15,o.stats().revenueTotal)),l(5),k("",o.stats().totalOrders," orders"),l(6),s(ke(50,17,o.stats().totalInterests)),l(5),k("",o.stats().acceptedInterests," accepted"),l(6),s(ke(61,19,o.stats().newUsersThisMonth)),l(9),h((i=o.stats().registrationChart)!=null&&i.length?69:70)}}var Je=class r{constructor(a){this.api=a}loading=x(!0);stats=x({totalUsers:0,totalProfiles:0,newUsersToday:0,newUsersThisWeek:0,newUsersThisMonth:0,pendingReports:0,totalOrders:0,revenueTotal:0,totalInterests:0,acceptedInterests:0,registrationChart:[]});maxReg=x(1);async ngOnInit(){try{let a=await this.api.getStats();this.stats.set(a);let i=Math.max(...a.registrationChart?.map(o=>o.count)||[1],1);this.maxReg.set(i)}catch{}this.loading.set(!1)}static \u0275fac=function(i){return new(i||r)(V(Ve))};static \u0275cmp=A({type:r,selectors:[["app-dashboard"]],decls:3,vars:1,consts:[[1,"dashboard"],[1,"loading"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-body"],[1,"stat-value"],[1,"stat-label"],[1,"stat-sub"],[1,"stat-card","warn"],[1,"stat-card","green"],[1,"chart-card"],[1,"bar-chart"],[1,"empty"],[1,"bar-col",3,"title"],[1,"bar-fill"],[1,"bar-label"]],template:function(i,o){i&1&&(C(0,"div",0),b(1,Tt,2,0,"div",1)(2,Nt,71,21),v()),i&2&&(l(),h(o.loading()?1:2))},dependencies:[G,ct],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.loading[_ngcontent-%COMP%]{color:#94a3b8;text-align:center;padding:4rem;font-size:1.1rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1.25rem}.stat-card[_ngcontent-%COMP%]{background:#1e293b;border-radius:12px;padding:1.5rem;display:flex;align-items:flex-start;gap:1rem;border:1px solid #334155;transition:border-color .2s}.stat-card[_ngcontent-%COMP%]:hover{border-color:#6366f1}.stat-card.warn[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.stat-card.green[_ngcontent-%COMP%]{border-left:4px solid #10b981}.stat-icon[_ngcontent-%COMP%]{font-size:2rem}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#f1f5f9;line-height:1}.stat-label[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-top:.25rem}.stat-sub[_ngcontent-%COMP%]{color:#94a3b8;font-size:.8rem;margin-top:.25rem}.chart-card[_ngcontent-%COMP%]{background:#1e293b;border-radius:12px;padding:1.5rem;border:1px solid #334155}h3[_ngcontent-%COMP%]{color:#f1f5f9;margin:0 0 1.5rem;font-size:1rem}.bar-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:3px;height:120px;overflow-x:auto;padding-bottom:1.5rem;position:relative}.bar-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.25rem;min-width:18px;flex:1;height:100%;justify-content:flex-end}.bar-fill[_ngcontent-%COMP%]{width:100%;background:#6366f1;border-radius:3px 3px 0 0;min-height:2px;transition:height .3s}.bar-label[_ngcontent-%COMP%]{color:#64748b;font-size:.6rem;white-space:nowrap}.empty[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem}"]})};var zt=(r,a)=>a._id;function Ft(r,a){r&1&&(e(0,"div",17),t(1,"Loading users..."),n())}function Wt(r,a){if(r&1){let i=U();e(0,"img",43),p("error",function(d){g(i);let m=c(3);return _(m.onImgError(d))}),n()}if(r&2){let i=c().$implicit,o=c(2);y("src",o.photoUrl(i.profile.profilePhotoUrl),ie)}}function Rt(r,a){if(r&1&&(e(0,"div",31),t(1),n()),r&2){let i=c().$implicit;l(),s((i.fullName==null?null:i.fullName.charAt(0))||"?")}}function Lt(r,a){if(r&1){let i=U();e(0,"button",44),p("click",function(){g(i);let d=c().$implicit,m=c(2);return _(m.verify(d))}),t(1,"\u2713"),n()}}function Bt(r,a){if(r&1){let i=U();e(0,"tr",28),p("click",function(){let d=g(i).$implicit,m=c(2);return _(m.viewUser(d._id))}),e(1,"td")(2,"div",29),b(3,Wt,1,1,"img",30)(4,Rt,2,1,"div",31),e(5,"div")(6,"div",32),t(7),n(),e(8,"div",33),t(9),n()()()(),e(10,"td")(11,"span"),t(12),n()(),e(13,"td")(14,"span",34),t(15),n()(),e(16,"td")(17,"span",35),t(18),n()(),e(19,"td")(20,"span",36),t(21),n()(),e(22,"td",37),t(23),z(24,"date"),n(),e(25,"td")(26,"div",38),p("click",function(d){return g(i),_(d.stopPropagation())}),b(27,Lt,2,0,"button",39),e(28,"button",40),p("click",function(){let d=g(i).$implicit,m=c(2);return _(m.suspend(d))}),t(29),n(),e(30,"button",41),p("click",function(){let d=g(i).$implicit,m=c(2);return _(m.impersonate(d))}),t(31,"\u{1F464}"),n(),e(32,"button",42),p("click",function(){let d=g(i).$implicit,m=c(2);return _(m.confirmDelete(d))}),t(33,"\u{1F5D1}"),n()()()()}if(r&2){let i=a.$implicit;O("suspended-row",i.isSuspended),l(3),h(i.profile!=null&&i.profile.profilePhotoUrl?3:4),l(4),s((i.profile==null?null:i.profile.fullName)||i.fullName),l(2),s(i.email),l(2),oe(re("tier-badge tier-",i.membershipTier)),l(),s(i.membershipTier),l(2),O("green",i.verified)("gray",!i.verified),l(),k(" ",i.verified?"\u2713":"\u25CB"," "),l(2),O("active",!i.isSuspended)("suspended",i.isSuspended),l(),s(i.isSuspended?"Suspended":"Active"),l(2),O("yes",i.isAdmin),l(),s(i.isAdmin?"\u{1F6E1}\uFE0F":"\u2014"),l(2),s(Ne(24,30,i.createdAt,"mediumDate")),l(4),h(i.verified?-1:27),l(),O("warn",!i.isSuspended)("green",i.isSuspended),y("title",i.isSuspended?"Unsuspend":"Suspend"),l(),s(i.isSuspended?"\u{1F513}":"\u{1F512}")}}function jt(r,a){r&1&&(e(0,"tr")(1,"td",45),t(2,"No users found."),n()())}function Gt(r,a){if(r&1){let i=U();e(0,"table",22)(1,"thead")(2,"tr")(3,"th"),t(4,"User"),n(),e(5,"th"),t(6,"Tier"),n(),e(7,"th"),t(8,"Verified"),n(),e(9,"th"),t(10,"Status"),n(),e(11,"th"),t(12,"Admin"),n(),e(13,"th"),t(14,"Joined"),n(),e(15,"th"),t(16,"Actions"),n()()(),e(17,"tbody"),T(18,Bt,34,33,"tr",23,zt,!1,jt,3,0,"tr"),n()(),e(21,"div",24)(22,"button",25),p("click",function(){g(i);let d=c();return _(d.prevPage())}),t(23,"\u2190 Prev"),n(),e(24,"span",26),t(25),n(),e(26,"button",25),p("click",function(){g(i);let d=c();return _(d.nextPage())}),t(27,"Next \u2192"),n(),e(28,"span",27),t(29),n()()}if(r&2){let i=c();l(18),D(i.users()),l(4),y("disabled",i.page()<=1),l(3),K("Page ",i.page()," of ",i.pages()),l(),y("disabled",i.page()>=i.pages()),l(3),k("",i.total()," total users")}}function Yt(r,a){if(r&1){let i=U();e(0,"img",67),p("error",function(d){g(i);let m=c(2);return _(m.onImgError(d))}),n()}if(r&2){let i,o=c(2);y("src",o.photoUrl((i=o.detailUser())==null||i.profile==null?null:i.profile.profilePhotoUrl),ie)}}function Kt(r,a){if(r&1&&(e(0,"div",52),t(1),n()),r&2){let i,o=c(2);l(),s(((i=o.detailUser())==null||i.user==null||i.user.fullName==null?null:i.user.fullName.charAt(0))||"?")}}function Ht(r,a){if(r&1&&(e(0,"p",54),t(1),n()),r&2){let i,o=c(2);l(),k("Account: ",(i=o.detailUser())==null||i.user==null?null:i.user.fullName)}}function qt(r,a){if(r&1){let i=U();e(0,"div",68)(1,"button",69),p("click",function(){g(i);let d=c(2);return _(d.showFullProfileModal.set(!0))}),t(2,"View Full Profile Details"),n()(),e(3,"h4",62),t(4,"Profile Summary"),n(),e(5,"div",56)(6,"div",57)(7,"span",58),t(8,"Profile ID"),n(),e(9,"span",59),t(10),n()(),e(11,"div",57)(12,"span",58),t(13,"Religion"),n(),e(14,"span",60),t(15),n()(),e(16,"div",57)(17,"span",58),t(18,"State"),n(),e(19,"span",60),t(20),n()(),e(21,"div",57)(22,"span",58),t(23,"Occupation"),n(),e(24,"span",60),t(25),n()()()}if(r&2){let i,o,d,m,w=c(2);l(10),s(((i=w.detailUser())==null||i.profile==null?null:i.profile.profileId)||((i=w.detailUser())==null||i.profile==null?null:i.profile._id)),l(5),s(((o=w.detailUser())==null||o.profile==null?null:o.profile.religion)||"\u2014"),l(5),s(((d=w.detailUser())==null||d.profile==null?null:d.profile.state)||"\u2014"),l(5),s(((m=w.detailUser())==null||m.profile==null?null:m.profile.occupation)||"\u2014")}}function Jt(r,a){r&1&&(e(0,"p",61),t(1,"No profile created yet."),n())}function $t(r,a){if(r&1){let i=U();e(0,"div",46),p("click",function(){g(i);let d=c();return _(d.detailUser.set(null))}),e(1,"div",47),p("click",function(d){return g(i),_(d.stopPropagation())}),e(2,"div",48)(3,"h3"),t(4,"User Details"),n(),e(5,"button",49),p("click",function(){g(i);let d=c();return _(d.detailUser.set(null))}),t(6,"\u2715"),n()(),e(7,"div",50),b(8,Yt,1,1,"img",51)(9,Kt,2,1,"div",52),e(10,"h4",53),t(11),n(),b(12,Ht,2,1,"p",54),e(13,"p",55),t(14),n(),e(15,"div",56)(16,"div",57)(17,"span",58),t(18,"ID"),n(),e(19,"span",59),t(20),n()(),e(21,"div",57)(22,"span",58),t(23,"Gender"),n(),e(24,"span",60),t(25),n()(),e(26,"div",57)(27,"span",58),t(28,"Tier"),n(),e(29,"span",60)(30,"span"),t(31),n()()(),e(32,"div",57)(33,"span",58),t(34,"Verified"),n(),e(35,"span",60),t(36),n()(),e(37,"div",57)(38,"span",58),t(39,"Admin"),n(),e(40,"span",60),t(41),n()(),e(42,"div",57)(43,"span",58),t(44,"Suspended"),n(),e(45,"span",60),t(46),n()(),e(47,"div",57)(48,"span",58),t(49,"Joined"),n(),e(50,"span",60),t(51),z(52,"date"),n()()(),b(53,qt,26,4)(54,Jt,2,0,"p",61),e(55,"h4",62),t(56,"Change Membership"),n(),e(57,"div",63)(58,"select",4),M("ngModelChange",function(d){g(i);let m=c();return P(m.changeTier,d)||(m.changeTier=d),_(d)}),e(59,"option",6),t(60,"Bronze"),n(),e(61,"option",7),t(62,"Silver"),n(),e(63,"option",8),t(64,"Gold"),n(),e(65,"option",9),t(66,"Diamond"),n(),e(67,"option",10),t(68,"Crown"),n()(),e(69,"button",64),p("click",function(){g(i);let d=c();return _(d.applyTier())}),t(70,"Apply"),n()(),e(71,"h4",62),t(72,"Account Actions"),n(),e(73,"div",65)(74,"button",66),p("click",function(){let d;g(i);let m=c();return _(m.impersonate((d=m.detailUser())==null?null:d.user))}),t(75,"Impersonate User Session"),n()()()()()}if(r&2){let i,o,d,m,w,N,F,W,R,L,B,j,Y,S=c();l(8),h(!((i=S.detailUser())==null||i.profile==null)&&i.profile.profilePhotoUrl?8:9),l(3),s(((o=S.detailUser())==null||o.profile==null?null:o.profile.fullName)||((o=S.detailUser())==null||o.user==null?null:o.user.fullName)),l(),h(!((d=S.detailUser())==null||d.profile==null)&&d.profile.fullName&&((d=S.detailUser())==null||d.profile==null?null:d.profile.fullName)!==((d=S.detailUser())==null||d.user==null?null:d.user.fullName)?12:-1),l(2),s((m=S.detailUser())==null||m.user==null?null:m.user.email),l(6),s((w=S.detailUser())==null||w.user==null?null:w.user._id),l(5),s(((N=S.detailUser())==null||N.user==null?null:N.user.gender)||"\u2014"),l(5),oe(re("tier-badge tier-",(F=S.detailUser())==null||F.user==null?null:F.user.membershipTier)),l(),s((W=S.detailUser())==null||W.user==null?null:W.user.membershipTier),l(5),s(!((R=S.detailUser())==null||R.user==null)&&R.user.verified?"Yes \u2713":"No"),l(5),s(!((L=S.detailUser())==null||L.user==null)&&L.user.isAdmin?"Yes \u{1F6E1}\uFE0F":"No"),l(5),s(!((B=S.detailUser())==null||B.user==null)&&B.user.isSuspended?"Yes \u26D4":"No"),l(5),s(Ne(52,16,(j=S.detailUser())==null||j.user==null?null:j.user.createdAt,"medium")),l(2),h((Y=S.detailUser())!=null&&Y.profile?53:54),l(5),E("ngModel",S.changeTier)}}function Qt(r,a){if(r&1&&X(0,"img",76),r&2){let i,o=c(2);y("src",o.photoUrl((i=o.detailUser())==null||i.profile==null?null:i.profile.profilePhotoUrl),ie)}}function Xt(r,a){if(r&1&&(e(0,"div",93),t(1),n()),r&2){let i,o,d=c(2);O("female",((i=d.detailUser())==null||i.profile==null?null:i.profile.gender)==="female"),l(),s(((o=d.detailUser())==null||o.profile==null||o.profile.fullName==null?null:o.profile.fullName.charAt(0))||"?")}}function Zt(r,a){if(r&1&&(e(0,"span",91),t(1),n()),r&2){let i=a.$implicit;l(),s(i)}}function en(r,a){r&1&&t(0," \u2014 ")}function tn(r,a){if(r&1&&(e(0,"span",91),t(1),n()),r&2){let i=a.$implicit;l(),s(i)}}function nn(r,a){r&1&&t(0," \u2014 ")}function ln(r,a){if(r&1&&(e(0,"span",91),t(1),n()),r&2){let i=a.$implicit;l(),s(i)}}function on(r,a){r&1&&t(0," \u2014 ")}function rn(r,a){if(r&1){let i=U();e(0,"div",70),p("click",function(){g(i);let d=c();return _(d.showFullProfileModal.set(!1))}),e(1,"div",71),p("click",function(d){return g(i),_(d.stopPropagation())}),e(2,"div",72)(3,"h3"),t(4),n(),e(5,"button",49),p("click",function(){g(i);let d=c();return _(d.showFullProfileModal.set(!1))}),t(6,"\u2715"),n()(),e(7,"div",73)(8,"div",74)(9,"div",75),b(10,Qt,1,1,"img",76)(11,Xt,2,3,"div",77),n(),e(12,"div",78)(13,"h2"),t(14),n(),e(15,"p",79),t(16),n(),e(17,"div",80)(18,"span"),t(19),n(),e(20,"span",35),t(21),n()()()(),e(22,"div",81)(23,"section",82)(24,"h4"),t(25,"Basic Details"),n(),e(26,"div",83)(27,"div",84)(28,"span",85),t(29,"Gender"),n(),e(30,"span",86),t(31),n()(),e(32,"div",84)(33,"span",85),t(34,"DOB"),n(),e(35,"span",86),t(36),n()(),e(37,"div",84)(38,"span",85),t(39,"Height"),n(),e(40,"span",86),t(41),n()(),e(42,"div",84)(43,"span",85),t(44,"Marital Status"),n(),e(45,"span",86),t(46),n()(),e(47,"div",84)(48,"span",85),t(49,"Mother Tongue"),n(),e(50,"span",86),t(51),n()()()(),e(52,"section",82)(53,"h4"),t(54,"Religion & Culture"),n(),e(55,"div",83)(56,"div",84)(57,"span",85),t(58,"Religion"),n(),e(59,"span",86),t(60),n()(),e(61,"div",84)(62,"span",85),t(63,"Caste"),n(),e(64,"span",86),t(65),n()(),e(66,"div",84)(67,"span",85),t(68,"Gothra"),n(),e(69,"span",86),t(70),n()(),e(71,"div",84)(72,"span",85),t(73,"Manglik"),n(),e(74,"span",86),t(75),n()()()(),e(76,"section",82)(77,"h4"),t(78,"Education & Career"),n(),e(79,"div",83)(80,"div",84)(81,"span",85),t(82,"Education"),n(),e(83,"span",86),t(84),n()(),e(85,"div",84)(86,"span",85),t(87,"Degree"),n(),e(88,"span",86),t(89),n()(),e(90,"div",84)(91,"span",85),t(92,"Occupation"),n(),e(93,"span",86),t(94),n()(),e(95,"div",84)(96,"span",85),t(97,"Company"),n(),e(98,"span",86),t(99),n()(),e(100,"div",84)(101,"span",85),t(102,"Income"),n(),e(103,"span",86),t(104),n()()()(),e(105,"section",82)(106,"h4"),t(107,"Family Details"),n(),e(108,"div",83)(109,"div",84)(110,"span",85),t(111,"Father Status"),n(),e(112,"span",86),t(113),n()(),e(114,"div",84)(115,"span",85),t(116,"Mother Status"),n(),e(117,"span",86),t(118),n()(),e(119,"div",84)(120,"span",85),t(121,"Siblings"),n(),e(122,"span",86),t(123),n()(),e(124,"div",84)(125,"span",85),t(126,"Family Type"),n(),e(127,"span",86),t(128),n()(),e(129,"div",84)(130,"span",85),t(131,"Family Values"),n(),e(132,"span",86),t(133),n()(),e(134,"div",84)(135,"span",85),t(136,"Father Name"),n(),e(137,"span",86),t(138),n()(),e(139,"div",84)(140,"span",85),t(141,"Mother Name"),n(),e(142,"span",86),t(143),n()()()(),e(144,"section",82)(145,"h4"),t(146,"Location"),n(),e(147,"div",83)(148,"div",84)(149,"span",85),t(150,"Country"),n(),e(151,"span",86),t(152),n()(),e(153,"div",84)(154,"span",85),t(155,"State"),n(),e(156,"span",86),t(157),n()(),e(158,"div",84)(159,"span",85),t(160,"District"),n(),e(161,"span",86),t(162),n()(),e(163,"div",84)(164,"span",85),t(165,"City"),n(),e(166,"span",86),t(167),n()(),e(168,"div",84)(169,"span",85),t(170,"Pin Code"),n(),e(171,"span",86),t(172),n()()()(),e(173,"section",82)(174,"h4"),t(175,"Lifestyle & Bio"),n(),e(176,"div",87)(177,"div",84)(178,"span",85),t(179,"Bio"),n(),e(180,"span",88),t(181),n()()(),e(182,"div",83)(183,"div",84)(184,"span",85),t(185,"Diet"),n(),e(186,"span",86),t(187),n()(),e(188,"div",84)(189,"span",85),t(190,"Smoking"),n(),e(191,"span",86),t(192),n()(),e(193,"div",84)(194,"span",85),t(195,"Drinking"),n(),e(196,"span",86),t(197),n()()(),e(198,"div",89)(199,"div",84)(200,"span",85),t(201,"Hobbies"),n(),e(202,"span",86)(203,"div",90),T(204,Zt,2,1,"span",91,le,!1,en,1,0),n()()()()(),e(207,"section",92)(208,"h4"),t(209,"Partner Preferences"),n(),e(210,"div",83)(211,"div",84)(212,"span",85),t(213,"Age Range"),n(),e(214,"span",86),t(215),n()(),e(216,"div",84)(217,"span",85),t(218,"Religion"),n(),e(219,"span",86)(220,"div",90),T(221,tn,2,1,"span",91,le,!1,nn,1,0),n()()(),e(224,"div",84)(225,"span",85),t(226,"State"),n(),e(227,"span",86)(228,"div",90),T(229,ln,2,1,"span",91,le,!1,on,1,0),n()()()()()()()()()}if(r&2){let i,o,d,m,w,N,F,W,R,L,B,j,Y,S,ae,de,se,me,ce,pe,ue,fe,ge,_e,xe,Ce,ve,be,he,q,J,Se,Ee,Pe,$,Me,we,ye,Oe,I,te,ne,f=c();l(4),k("Full Profile: ",(i=f.detailUser())==null||i.profile==null?null:i.profile.fullName),l(6),h(!((o=f.detailUser())==null||o.profile==null)&&o.profile.profilePhotoUrl?10:11),l(4),s((d=f.detailUser())==null||d.profile==null?null:d.profile.fullName),l(2),s((m=f.detailUser())==null||m.profile==null?null:m.profile.profileId),l(2),oe(re("tier-badge tier-",((w=f.detailUser())==null||w.user==null?null:w.user.membershipTier)||"bronze")),l(),s(((N=f.detailUser())==null||N.user==null?null:N.user.membershipTier)||"bronze"),l(),O("active",((F=f.detailUser())==null||F.profile==null?null:F.profile.isActive)!==!1),l(),s(((W=f.detailUser())==null||W.profile==null?null:W.profile.isActive)===!1?"Inactive":"Active"),l(10),s((R=f.detailUser())==null||R.profile==null?null:R.profile.gender),l(5),s(((L=f.detailUser())==null||L.profile==null?null:L.profile.dateOfBirth)||"\u2014"),l(5),s(((B=f.detailUser())==null||B.profile==null?null:B.profile.height)||"\u2014"),l(5),s(((j=f.detailUser())==null||j.profile==null?null:j.profile.maritalStatus)||"\u2014"),l(5),s(((Y=f.detailUser())==null||Y.profile==null?null:Y.profile.motherTongue)||"\u2014"),l(9),s(((S=f.detailUser())==null||S.profile==null?null:S.profile.religion)||"\u2014"),l(5),s(((ae=f.detailUser())==null||ae.profile==null?null:ae.profile.caste)||"\u2014"),l(5),s(((de=f.detailUser())==null||de.profile==null?null:de.profile.gothra)||"\u2014"),l(5),s(((se=f.detailUser())==null||se.profile==null?null:se.profile.manglik)||"\u2014"),l(9),s(((me=f.detailUser())==null||me.profile==null?null:me.profile.highestEducation)||"\u2014"),l(5),s(((ce=f.detailUser())==null||ce.profile==null?null:ce.profile.degree)||"\u2014"),l(5),s(((pe=f.detailUser())==null||pe.profile==null?null:pe.profile.occupation)||"\u2014"),l(5),s(((ue=f.detailUser())==null||ue.profile==null?null:ue.profile.company)||"\u2014"),l(5),s(((fe=f.detailUser())==null||fe.profile==null?null:fe.profile.monthlyIncome)||"\u2014"),l(9),s(((ge=f.detailUser())==null||ge.profile==null?null:ge.profile.fatherStatus)||"\u2014"),l(5),s(((_e=f.detailUser())==null||_e.profile==null?null:_e.profile.motherStatus)||"\u2014"),l(5),s(((xe=f.detailUser())==null||xe.profile==null?null:xe.profile.siblings)||"\u2014"),l(5),s(((Ce=f.detailUser())==null||Ce.profile==null?null:Ce.profile.familyType)||"\u2014"),l(5),s(((ve=f.detailUser())==null||ve.profile==null?null:ve.profile.familyValues)||"\u2014"),l(5),s(((be=f.detailUser())==null||be.profile==null?null:be.profile.fatherName)||"\u2014"),l(5),s(((he=f.detailUser())==null||he.profile==null?null:he.profile.motherName)||"\u2014"),l(9),s((q=f.detailUser())==null||q.profile==null?null:q.profile.country),l(5),s((J=f.detailUser())==null||J.profile==null?null:J.profile.state),l(5),s((Se=f.detailUser())==null||Se.profile==null?null:Se.profile.district),l(5),s(((Ee=f.detailUser())==null||Ee.profile==null?null:Ee.profile.city)||"\u2014"),l(5),s(((Pe=f.detailUser())==null||Pe.profile==null?null:Pe.profile.pinCode)||"\u2014"),l(9),s((($=f.detailUser())==null||$.profile==null?null:$.profile.bio)||"No bio provided."),l(6),s(((Me=f.detailUser())==null||Me.profile==null?null:Me.profile.diet)||"\u2014"),l(5),s(((we=f.detailUser())==null||we.profile==null?null:we.profile.smoking)||"\u2014"),l(5),s(((ye=f.detailUser())==null||ye.profile==null?null:ye.profile.drinking)||"\u2014"),l(7),D((Oe=f.detailUser())==null||Oe.profile==null?null:Oe.profile.hobbies),l(11),K(" ",((I=f.detailUser())==null||I.profile==null||I.profile.partnerPreferences==null||I.profile.partnerPreferences.ageRange==null?null:I.profile.partnerPreferences.ageRange.min)||"18"," - ",((I=f.detailUser())==null||I.profile==null||I.profile.partnerPreferences==null||I.profile.partnerPreferences.ageRange==null?null:I.profile.partnerPreferences.ageRange.max)||"99"," yrs "),l(6),D((te=f.detailUser())==null||te.profile==null||te.profile.partnerPreferences==null?null:te.profile.partnerPreferences.religion),l(8),D((ne=f.detailUser())==null||ne.profile==null||ne.profile.partnerPreferences==null?null:ne.profile.partnerPreferences.state)}}function an(r,a){if(r&1&&(e(0,"div",110),t(1),n()),r&2){let i=c(2);l(),s(i.createError())}}function dn(r,a){if(r&1){let i=U();e(0,"div",94),p("click",function(){g(i);let d=c();return _(d.showCreateModal.set(!1))}),e(1,"div",95),p("click",function(d){return g(i),_(d.stopPropagation())}),e(2,"h3"),t(3,"Create New User"),n(),e(4,"form",96),p("ngSubmit",function(){g(i);let d=c();return _(d.createUser())}),e(5,"div",97)(6,"label"),t(7,"Full Name *"),n(),e(8,"input",98),M("ngModelChange",function(d){g(i);let m=c();return P(m.newUser.fullName,d)||(m.newUser.fullName=d),_(d)}),n()(),e(9,"div",97)(10,"label"),t(11,"Email *"),n(),e(12,"input",99),M("ngModelChange",function(d){g(i);let m=c();return P(m.newUser.email,d)||(m.newUser.email=d),_(d)}),n()(),e(13,"div",97)(14,"label"),t(15,"Password *"),n(),e(16,"input",100),M("ngModelChange",function(d){g(i);let m=c();return P(m.newUser.password,d)||(m.newUser.password=d),_(d)}),n()(),e(17,"div",101)(18,"div",97)(19,"label"),t(20,"Gender"),n(),e(21,"select",102),M("ngModelChange",function(d){g(i);let m=c();return P(m.newUser.gender,d)||(m.newUser.gender=d),_(d)}),e(22,"option",5),t(23,"Select"),n(),e(24,"option",103),t(25,"Male"),n(),e(26,"option",104),t(27,"Female"),n(),e(28,"option",105),t(29,"Others"),n()()(),e(30,"div",97)(31,"label"),t(32,"Tier"),n(),e(33,"select",106),M("ngModelChange",function(d){g(i);let m=c();return P(m.newUser.membershipTier,d)||(m.newUser.membershipTier=d),_(d)}),e(34,"option",6),t(35,"Bronze"),n(),e(36,"option",7),t(37,"Silver"),n(),e(38,"option",8),t(39,"Gold"),n(),e(40,"option",9),t(41,"Diamond"),n(),e(42,"option",10),t(43,"Crown"),n()()()(),e(44,"div",101)(45,"label",107)(46,"input",108),M("ngModelChange",function(d){g(i);let m=c();return P(m.newUser.verified,d)||(m.newUser.verified=d),_(d)}),n(),t(47," Verified"),n(),e(48,"label",107)(49,"input",109),M("ngModelChange",function(d){g(i);let m=c();return P(m.newUser.isAdmin,d)||(m.newUser.isAdmin=d),_(d)}),n(),t(50," Admin"),n()(),b(51,an,2,1,"div",110),e(52,"div",111)(53,"button",112),p("click",function(){g(i);let d=c();return _(d.showCreateModal.set(!1))}),t(54,"Cancel"),n(),e(55,"button",113),t(56),n()()()()()}if(r&2){let i=c();l(8),E("ngModel",i.newUser.fullName),l(4),E("ngModel",i.newUser.email),l(4),E("ngModel",i.newUser.password),l(5),E("ngModel",i.newUser.gender),l(12),E("ngModel",i.newUser.membershipTier),l(13),E("ngModel",i.newUser.verified),l(3),E("ngModel",i.newUser.isAdmin),l(2),h(i.createError()?51:-1),l(4),y("disabled",i.creating()),l(),s(i.creating()?"Creating...":"Create User")}}function sn(r,a){if(r&1){let i=U();e(0,"div",94),p("click",function(){g(i);let d=c();return _(d.deleteTarget.set(null))}),e(1,"div",114),p("click",function(d){return g(i),_(d.stopPropagation())}),e(2,"h3"),t(3,"Delete User?"),n(),e(4,"p"),t(5,"This will permanently delete "),e(6,"strong"),t(7),n(),t(8," and their profile. This cannot be undone."),n(),e(9,"div",111)(10,"button",115),p("click",function(){g(i);let d=c();return _(d.deleteTarget.set(null))}),t(11,"Cancel"),n(),e(12,"button",116),p("click",function(){g(i);let d=c();return _(d.deleteUser())}),t(13,"Delete"),n()()()()}if(r&2){let i,o=c();l(7),s((i=o.deleteTarget())==null?null:i.fullName)}}function mn(r,a){if(r&1&&(e(0,"div",21),t(1),n()),r&2){let i=c();l(),s(i.toast())}}var $e=class r{constructor(a){this.api=a}users=x([]);loading=x(!0);page=x(1);pages=x(1);total=x(0);search="";filterTier="";filterVerified="";filterSuspended="";deleteTarget=x(null);toast=x("");searchTimer;detailUser=x(null);changeTier="bronze";showFullProfileModal=x(!1);showCreateModal=x(!1);creating=x(!1);createError=x("");newUser={fullName:"",email:"",password:"",gender:"",membershipTier:"bronze",verified:!1,isAdmin:!1};exportCSV(){let a=localStorage.getItem("admin_token"),i=`${H.apiUrl}/admin/export/users?token=${a}`;window.open(i,"_blank")}ngOnInit(){this.load()}async load(){this.loading.set(!0);try{let a=await this.api.getUsers({page:this.page(),limit:20,tier:this.filterTier,verified:this.filterVerified,suspended:this.filterSuspended,search:this.search});this.users.set(a.users),this.total.set(a.total),this.pages.set(a.pages)}catch{}this.loading.set(!1)}onSearch(){clearTimeout(this.searchTimer),this.searchTimer=setTimeout(()=>{this.page.set(1),this.load()},400)}prevPage(){this.page.update(a=>a-1),this.load()}nextPage(){this.page.update(a=>a+1),this.load()}async verify(a){await this.api.verifyUser(a._id),a.verified=!0,this.showToast("User verified \u2713")}async suspend(a){let i=await this.api.suspendUser(a._id);a.isSuspended=i.isSuspended,this.showToast(i.isSuspended?"User suspended.":"User unsuspended.")}confirmDelete(a){this.deleteTarget.set(a)}async deleteUser(){let a=this.deleteTarget();a&&(await this.api.deleteUser(a._id),this.deleteTarget.set(null),this.showToast("User deleted."),this.load())}async impersonate(a){if(a)try{let i=await this.api.impersonateUser(a._id),o=`${H.frontendUrl}/login?token=${i.token}`;window.open(o,"_blank"),this.showToast(`Impersonating ${a.fullName}...`)}catch(i){this.showToast(i.error?.message||"Impersonation failed.")}}async viewUser(a){try{let i=await this.api.getUser(a);this.changeTier=i.user?.membershipTier||"bronze",this.detailUser.set(i)}catch{this.showToast("Failed to load user details.")}}async applyTier(){let a=this.detailUser();a?.user?._id&&(await this.api.setMembership(a.user._id,this.changeTier),a.user.membershipTier=this.changeTier,this.detailUser.set(it({},a)),this.showToast(`Tier updated to ${this.changeTier}.`),this.load())}async createUser(){this.creating.set(!0),this.createError.set("");try{await this.api.createUser(this.newUser),this.showCreateModal.set(!1),this.newUser={fullName:"",email:"",password:"",gender:"",membershipTier:"bronze",verified:!1,isAdmin:!1},this.showToast("User created \u2713"),this.load()}catch(a){this.createError.set(a.error?.message||"Failed to create user.")}finally{this.creating.set(!1)}}showToast(a){this.toast.set(a),setTimeout(()=>this.toast.set(""),3e3)}photoUrl(a){return a?a.startsWith("http")?a:`${H.backendUrl}${a}`:""}onImgError(a){let i=a.target;i.style.display="none"}static \u0275fac=function(i){return new(i||r)(V(Ve))};static \u0275cmp=A({type:r,selectors:[["app-users"]],decls:44,vars:10,consts:[[1,"users-page"],[1,"top-bar"],[1,"filters"],["type","text","placeholder","Search name, email or ID...",1,"input-filter",3,"ngModelChange","ngModel"],[1,"select-filter",3,"ngModelChange","ngModel"],["value",""],["value","bronze"],["value","silver"],["value","gold"],["value","diamond"],["value","crown"],["value","true"],["value","false"],[1,"actions"],[1,"btn-export",3,"click"],[1,"btn-add",3,"click"],[1,"table-card"],[1,"loading"],[1,"drawer-overlay"],[1,"modal-overlay",2,"z-index","110"],[1,"modal-overlay"],[1,"toast"],[1,"admin-table"],[1,"clickable-row",3,"suspended-row"],[1,"pagination"],[1,"btn-page",3,"click","disabled"],[1,"page-info"],[1,"total-info"],[1,"clickable-row",3,"click"],[1,"user-cell"],["alt","photo",1,"user-photo",3,"src"],[1,"user-avatar"],[1,"user-name"],[1,"user-email"],[1,"status-dot"],[1,"status-badge"],[1,"admin-flag"],[1,"date-cell"],[1,"action-row",3,"click"],["title","Verify",1,"btn-action","green"],[1,"btn-action",3,"click","title"],["title","Impersonate User",1,"btn-action","blue",3,"click"],["title","Delete",1,"btn-action","red",3,"click"],["alt","photo",1,"user-photo",3,"error","src"],["title","Verify",1,"btn-action","green",3,"click"],["colspan","7",1,"empty-row"],[1,"drawer-overlay",3,"click"],[1,"drawer",3,"click"],[1,"drawer-header"],[1,"btn-close",3,"click"],[1,"drawer-body"],["alt","photo",1,"detail-photo",3,"src"],[1,"detail-avatar"],[1,"detail-name"],[1,"detail-account-name"],[1,"detail-email"],[1,"detail-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value","mono"],[1,"detail-value"],[1,"no-profile"],[1,"section-title"],[1,"tier-change"],[1,"btn-tier",3,"click"],[1,"account-actions"],[1,"btn-full-profile","blue",3,"click"],["alt","photo",1,"detail-photo",3,"error","src"],[1,"full-profile-trigger"],[1,"btn-full-profile",3,"click"],[1,"modal-overlay",2,"z-index","110",3,"click"],[1,"modal","full-profile-modal",3,"click"],[1,"modal-header"],[1,"modal-body"],[1,"profile-header"],[1,"header-photo"],["alt","photo",1,"large-photo",3,"src"],[1,"large-avatar",3,"female"],[1,"header-info"],[1,"profile-id-tag"],[1,"header-badges"],[1,"profile-sections"],[1,"info-section"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"info-grid","bio-row"],[1,"value","bio-text"],[1,"info-grid","hobbies-row"],[1,"tags"],[1,"tag"],[1,"info-section","partner-section"],[1,"large-avatar"],[1,"modal-overlay",3,"click"],[1,"modal","create-modal",3,"click"],[1,"create-form",3,"ngSubmit"],[1,"form-row"],["type","text","name","fullName","required","",1,"input",3,"ngModelChange","ngModel"],["type","email","name","email","required","",1,"input",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"input",3,"ngModelChange","ngModel"],[1,"form-row-half"],["name","gender",1,"input",3,"ngModelChange","ngModel"],["value","male"],["value","female"],["value","others"],["name","tier",1,"input",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","verified",3,"ngModelChange","ngModel"],["type","checkbox","name","isAdmin",3,"ngModelChange","ngModel"],[1,"error-msg"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-create",3,"disabled"],[1,"modal",3,"click"],[1,"btn-cancel",3,"click"],[1,"btn-delete",3,"click"]],template:function(i,o){if(i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),M("ngModelChange",function(m){return P(o.search,m)||(o.search=m),m}),p("ngModelChange",function(){return o.onSearch()}),n(),e(4,"select",4),M("ngModelChange",function(m){return P(o.filterTier,m)||(o.filterTier=m),m}),p("ngModelChange",function(){return o.load()}),e(5,"option",5),t(6,"All Tiers"),n(),e(7,"option",6),t(8,"Bronze"),n(),e(9,"option",7),t(10,"Silver"),n(),e(11,"option",8),t(12,"Gold"),n(),e(13,"option",9),t(14,"Diamond"),n(),e(15,"option",10),t(16,"Crown"),n()(),e(17,"select",4),M("ngModelChange",function(m){return P(o.filterVerified,m)||(o.filterVerified=m),m}),p("ngModelChange",function(){return o.load()}),e(18,"option",5),t(19,"All Verified"),n(),e(20,"option",11),t(21,"Verified"),n(),e(22,"option",12),t(23,"Unverified"),n()(),e(24,"select",4),M("ngModelChange",function(m){return P(o.filterSuspended,m)||(o.filterSuspended=m),m}),p("ngModelChange",function(){return o.load()}),e(25,"option",5),t(26,"All Status"),n(),e(27,"option",12),t(28,"Active"),n(),e(29,"option",11),t(30,"Suspended"),n()()(),e(31,"div",13)(32,"button",14),p("click",function(){return o.exportCSV()}),t(33,"Export CSV"),n(),e(34,"button",15),p("click",function(){return o.showCreateModal.set(!0)}),t(35,"+ Add User"),n()()(),e(36,"div",16),b(37,Ft,2,0,"div",17)(38,Gt,30,6),n(),b(39,$t,76,19,"div",18),b(40,rn,232,46,"div",19),b(41,dn,57,10,"div",20),b(42,sn,14,1,"div",20),b(43,mn,2,1,"div",21),n()),i&2){let d;l(3),E("ngModel",o.search),l(),E("ngModel",o.filterTier),l(13),E("ngModel",o.filterVerified),l(7),E("ngModel",o.filterSuspended),l(13),h(o.loading()?37:38),l(2),h(o.detailUser()?39:-1),l(),h(o.showFullProfileModal()&&((d=o.detailUser())!=null&&d.profile)?40:-1),l(),h(o.showCreateModal()?41:-1),l(),h(o.deleteTarget()?42:-1),l(),h(o.toast()?43:-1)}},dependencies:[G,De,Be,Ge,Ye,Ue,vt,je,Ie,Re,Ke,Te,Le,Fe],styles:[".users-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.top-bar[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:space-between;align-items:flex-start;flex-wrap:wrap}.filters[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap;flex:1}.input-filter[_ngcontent-%COMP%], .select-filter[_ngcontent-%COMP%]{padding:.6rem .9rem;border-radius:8px;border:1px solid #334155;background:#1e293b;color:#f1f5f9;font-size:.9rem;outline:none}.input-filter[_ngcontent-%COMP%]{flex:1;min-width:200px}.input-filter[_ngcontent-%COMP%]:focus, .select-filter[_ngcontent-%COMP%]:focus{border-color:#6366f1}.btn-add[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border-radius:8px;border:none;color:#fff;font-size:.9rem;font-weight:700;cursor:pointer;white-space:nowrap;transition:all .2s}.btn-add[_ngcontent-%COMP%]{background:#6366f1}.btn-add[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-1px)}.btn-export[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #334155;color:#94a3b8}.btn-export[_ngcontent-%COMP%]:hover{background:#1e293b;color:#fff}.actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.table-card[_ngcontent-%COMP%]{background:#1e293b;border-radius:12px;border:1px solid #334155;overflow:hidden}.loading[_ngcontent-%COMP%], .empty-row[_ngcontent-%COMP%]{color:#94a3b8;text-align:center;padding:3rem}.admin-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#0f172a}th[_ngcontent-%COMP%]{color:#64748b;font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;padding:.75rem 1rem;text-align:left}td[_ngcontent-%COMP%]{padding:.85rem 1rem;border-top:1px solid #334155;color:#f1f5f9;font-size:.9rem;vertical-align:middle}.clickable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background .15s}.clickable-row[_ngcontent-%COMP%]:hover{background:#334155}.suspended-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{opacity:.65}.user-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.user-photo[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #334155;flex-shrink:0}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#f1f5f9;font-size:.9rem}.user-email[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem}.tier-badge[_ngcontent-%COMP%]{padding:.25rem .6rem;border-radius:12px;font-size:.75rem;font-weight:700;text-transform:uppercase}.tier-bronze[_ngcontent-%COMP%]{background:#7c3516;color:#fb923c}.tier-silver[_ngcontent-%COMP%]{background:#1e3a5f;color:#94a3b8}.tier-gold[_ngcontent-%COMP%]{background:#713f12;color:#fbbf24}.tier-diamond[_ngcontent-%COMP%]{background:#500724;color:#f472b6}.tier-crown[_ngcontent-%COMP%]{background:#3b0764;color:#c084fc}.status-dot[_ngcontent-%COMP%]{font-size:1rem}.status-dot.green[_ngcontent-%COMP%]{color:#10b981}.status-dot.gray[_ngcontent-%COMP%]{color:#475569}.status-badge[_ngcontent-%COMP%]{padding:.2rem .6rem;border-radius:12px;font-size:.75rem;font-weight:600}.status-badge.active[_ngcontent-%COMP%]{background:#052e16;color:#4ade80}.status-badge.suspended[_ngcontent-%COMP%]{background:#450a0a;color:#f87171}.admin-flag[_ngcontent-%COMP%]{font-size:.9rem;color:#64748b}.admin-flag.yes[_ngcontent-%COMP%]{color:#6366f1}.date-cell[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem}.action-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.btn-action[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:6px;border:none;cursor:pointer;font-size:.85rem;background:#334155;display:flex;align-items:center;justify-content:center;transition:all .2s}.btn-action.green[_ngcontent-%COMP%]{background:#064e3b;color:#4ade80}.btn-action.warn[_ngcontent-%COMP%]{background:#451a03;color:#fb923c}.btn-action.blue[_ngcontent-%COMP%]{background:#1e3a8a;color:#60a5fa}.btn-action[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.btn-full-profile.blue[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f61a;color:#3b82f6}.btn-full-profile.blue[_ngcontent-%COMP%]:hover{background:#3b82f633}.account-actions[_ngcontent-%COMP%]{width:100%;padding-top:1rem}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;border-top:1px solid #334155}.btn-page[_ngcontent-%COMP%]{padding:.4rem .9rem;border-radius:6px;border:1px solid #334155;background:#0f172a;color:#94a3b8;font-size:.85rem;cursor:pointer}.btn-page[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem}.total-info[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem;margin-left:auto}.drawer-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;z-index:100;display:flex;justify-content:flex-end}.drawer[_ngcontent-%COMP%]{width:460px;max-width:95vw;background:#1e293b;height:100vh;overflow-y:auto;border-left:1px solid #334155;animation:_ngcontent-%COMP%_slideIn .2s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%)}to{transform:translate(0)}}.drawer-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #334155}.drawer-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9;margin:0;font-size:1.1rem}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:#94a3b8;font-size:1.25rem;cursor:pointer}.drawer-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1rem}.detail-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.25rem}.detail-photo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;border:2px solid #334155}.detail-name[_ngcontent-%COMP%]{color:#f1f5f9;font-size:1.1rem;margin:0}.detail-account-name[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem;margin:0}.detail-email[_ngcontent-%COMP%]{color:#64748b;font-size:.85rem;margin:0}.detail-grid[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr;gap:.75rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.15rem}.detail-label[_ngcontent-%COMP%]{color:#64748b;font-size:.72rem;text-transform:uppercase;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{color:#f1f5f9;font-size:.9rem}.detail-value.mono[_ngcontent-%COMP%]{font-family:monospace;font-size:.8rem;color:#94a3b8;word-break:break-all}.section-title[_ngcontent-%COMP%]{color:#f1f5f9;font-size:.95rem;margin:.5rem 0 0;align-self:flex-start;border-top:1px solid #334155;padding-top:1rem;width:100%}.no-profile[_ngcontent-%COMP%]{color:#64748b;font-size:.85rem;align-self:flex-start}.full-profile-trigger[_ngcontent-%COMP%]{width:100%;padding-top:.5rem}.btn-full-profile[_ngcontent-%COMP%]{width:100%;padding:.75rem;border-radius:8px;border:1px solid #6366f1;background:#6366f11a;color:#6366f1;font-weight:700;cursor:pointer;transition:all .2s}.btn-full-profile[_ngcontent-%COMP%]:hover{background:#6366f133}.tier-change[_ngcontent-%COMP%]{display:flex;gap:.5rem;width:100%}.tier-change[_ngcontent-%COMP%]   .select-filter[_ngcontent-%COMP%]{flex:1}.btn-tier[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border-radius:8px;border:none;background:#6366f1;color:#fff;font-weight:700;cursor:pointer;font-size:.85rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:100;padding:2rem}.modal[_ngcontent-%COMP%]{background:#1e293b;border-radius:16px;width:100%;max-width:800px;max-height:90vh;border:1px solid #334155;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 25px 50px -12px #00000080}.modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid #334155;display:flex;justify-content:space-between;align-items:center;background:#0f172a}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9;margin:0;font-size:1.1rem}.modal-body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto}.profile-header[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;margin-bottom:2.5rem;border-bottom:1px solid #334155;padding-bottom:2rem}.large-photo[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:15px;object-fit:cover;border:3px solid #6366f1}.large-avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:15px;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:800}.large-avatar.female[_ngcontent-%COMP%]{background:#ec4899}.header-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin:0 0 .25rem;font-size:1.5rem}.profile-id-tag[_ngcontent-%COMP%]{color:#64748b;font-family:monospace;margin:0 0 .75rem;font-size:.95rem}.header-badges[_ngcontent-%COMP%]{display:flex;gap:.5rem}.info-section[_ngcontent-%COMP%]{margin-bottom:2rem}.info-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#6366f1;text-transform:uppercase;font-size:.75rem;letter-spacing:1px;margin:0 0 1rem;border-bottom:1px solid #334155;padding-bottom:.4rem}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1.25rem}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#64748b;font-size:.65rem;text-transform:uppercase;font-weight:600}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#f1f5f9;font-size:.9rem}.bio-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.bio-text[_ngcontent-%COMP%]{line-height:1.6;color:#94a3b8;font-size:.9rem}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem}.tag[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1;padding:.15rem .5rem;border-radius:5px;font-size:.75rem}.create-modal[_ngcontent-%COMP%]{max-width:500px}.modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9;margin:0}.modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8;margin:0 0 1.5rem;line-height:1.6}.create-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding-top:1.5rem}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#94a3b8;font-size:.8rem;font-weight:600}.input[_ngcontent-%COMP%]{padding:.6rem .9rem;border-radius:8px;border:1px solid #334155;background:#0f172a;color:#f1f5f9;font-size:.9rem;outline:none}.input[_ngcontent-%COMP%]:focus{border-color:#6366f1}.form-row-half[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-row-half[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex:1}.checkbox-label[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem;display:flex;align-items:center;gap:.5rem;cursor:pointer}.error-msg[_ngcontent-%COMP%]{background:#7f1d1d;color:#fca5a5;padding:.6rem 1rem;border-radius:8px;font-size:.85rem}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end;margin-top:.5rem}.btn-cancel[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border-radius:8px;border:1px solid #334155;background:transparent;color:#94a3b8;cursor:pointer}.btn-create[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border-radius:8px;border:none;background:#6366f1;color:#fff;font-weight:700;cursor:pointer}.btn-create[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-delete[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border-radius:8px;border:none;background:#ef4444;color:#fff;font-weight:700;cursor:pointer}.toast[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;background:#1e293b;border:1px solid #10b981;color:#10b981;padding:.75rem 1.25rem;border-radius:10px;font-size:.9rem;font-weight:600;z-index:200}"]})};var cn=(r,a)=>a._id;function pn(r,a){r&1&&(e(0,"div",16),t(1,"Loading profiles..."),n())}function un(r,a){if(r&1){let i=U();e(0,"img",37),p("error",function(d){g(i);let m=c(3);return _(m.onImgError(d))}),n()}if(r&2){let i=c().$implicit,o=c(2);y("src",o.photoUrl(i.profilePhotoUrl),ie)}}function fn(r,a){if(r&1&&(e(0,"div",38),t(1),n()),r&2){let i=c().$implicit;O("female",i.gender==="female"),l(),s((i.fullName==null?null:i.fullName.charAt(0))||"?")}}function gn(r,a){if(r&1&&(e(0,"span"),t(1),n()),r&2){let i=c().$implicit;l(),s(i.occupation)}}function _n(r,a){if(r&1){let i=U();e(0,"tr")(1,"td")(2,"div",25),b(3,un,1,1,"img",26)(4,fn,2,3,"div",27),e(5,"div")(6,"div",28),t(7),n(),e(8,"div",29),t(9),n()()()(),e(10,"td")(11,"div",30)(12,"span"),t(13),n(),e(14,"span"),t(15),n(),b(16,gn,2,1,"span"),n()(),e(17,"td")(18,"span"),t(19),n()(),e(20,"td")(21,"span",31),t(22),n()(),e(23,"td")(24,"span",32),t(25),n()(),e(26,"td",33),t(27),z(28,"date"),n(),e(29,"td")(30,"div",34)(31,"button",35),p("click",function(){let d=g(i).$implicit,m=c(2);return _(m.viewFullProfile(d))}),t(32,"\u{1F441}\uFE0F"),n(),e(33,"button",36),p("click",function(){let d=g(i).$implicit,m=c(2);return _(m.toggleActive(d))}),t(34),n(),e(35,"button",36),p("click",function(){let d=g(i).$implicit,m=c(2);return _(m.toggleFeature(d))}),t(36," \u2B50 "),n()()()()}if(r&2){let i=a.$implicit;O("inactive-row",i.isActive===!1),l(3),h(i.profilePhotoUrl?3:4),l(4),s(i.fullName||"\u2014"),l(2),s(i.profileId||(i._id==null?null:i._id.slice(-8))),l(4),s(i.gender||"\u2014"),l(2),s(i.state||"\u2014"),l(),h(i.occupation?16:-1),l(2),oe(re("tier-badge tier-",(i.userId==null?null:i.userId.membershipTier)||"bronze")),l(),k(" ",(i.userId==null?null:i.userId.membershipTier)||"bronze"," "),l(2),O("active",i.isActive!==!1)("inactive",i.isActive===!1),l(),k(" ",i.isActive===!1?"Inactive":"Active"," "),l(2),O("yes",i.featured),l(),s(i.featured?"\u2B50 Featured":"\u2014"),l(2),s(Ne(28,32,i.createdAt,"mediumDate")),l(6),O("warn",i.isActive!==!1)("green",i.isActive===!1),y("title",i.isActive===!1?"Activate":"Deactivate"),l(),k(" ",i.isActive===!1?"\u25B6":"\u23F8"," "),l(),O("yellow",!i.featured)("green",i.featured),y("title",i.featured?"Unfeature":"Feature")}}function xn(r,a){r&1&&(e(0,"tr")(1,"td",39),t(2,"No profiles found."),n()())}function Cn(r,a){if(r&1){let i=U();e(0,"table",19)(1,"thead")(2,"tr")(3,"th"),t(4,"Profile"),n(),e(5,"th"),t(6,"Info"),n(),e(7,"th"),t(8,"Tier"),n(),e(9,"th"),t(10,"Status"),n(),e(11,"th"),t(12,"Featured"),n(),e(13,"th"),t(14,"Joined"),n(),e(15,"th"),t(16,"Actions"),n()()(),e(17,"tbody"),T(18,_n,37,35,"tr",20,cn,!1,xn,3,0,"tr"),n()(),e(21,"div",21)(22,"button",22),p("click",function(){g(i);let d=c();return _(d.prevPage())}),t(23,"\u2190 Prev"),n(),e(24,"span",23),t(25),n(),e(26,"button",22),p("click",function(){g(i);let d=c();return _(d.nextPage())}),t(27,"Next \u2192"),n(),e(28,"span",24),t(29),n()()}if(r&2){let i=c();l(18),D(i.profiles()),l(4),y("disabled",i.page()<=1),l(3),K("Page ",i.page()," of ",i.pages()),l(),y("disabled",i.page()>=i.pages()),l(3),k("",i.total()," total profiles")}}function vn(r,a){if(r&1&&X(0,"img",47),r&2){let i,o=c(2);y("src",o.photoUrl((i=o.selectedProfile())==null?null:i.profilePhotoUrl),ie)}}function bn(r,a){if(r&1&&(e(0,"div",64),t(1),n()),r&2){let i,o,d=c(2);O("female",((i=d.selectedProfile())==null?null:i.gender)==="female"),l(),s(((o=d.selectedProfile())==null||o.fullName==null?null:o.fullName.charAt(0))||"?")}}function hn(r,a){if(r&1&&(e(0,"span",62),t(1),n()),r&2){let i=a.$implicit;l(),s(i)}}function Sn(r,a){r&1&&t(0," \u2014 ")}function En(r,a){if(r&1&&(e(0,"span",62),t(1),n()),r&2){let i=a.$implicit;l(),s(i)}}function Pn(r,a){r&1&&t(0," \u2014 ")}function Mn(r,a){if(r&1){let i=U();e(0,"div",40),p("click",function(){g(i);let d=c();return _(d.selectedProfile.set(null))}),e(1,"div",41),p("click",function(d){return g(i),_(d.stopPropagation())}),e(2,"div",42)(3,"h3"),t(4),n(),e(5,"button",43),p("click",function(){g(i);let d=c();return _(d.selectedProfile.set(null))}),t(6,"\u2715"),n()(),e(7,"div",44)(8,"div",45)(9,"div",46),b(10,vn,1,1,"img",47)(11,bn,2,3,"div",48),n(),e(12,"div",49)(13,"h2"),t(14),n(),e(15,"p",50),t(16),n(),e(17,"div",51)(18,"span"),t(19),n(),e(20,"span",31),t(21),n()()()(),e(22,"div",52)(23,"section",53)(24,"h4"),t(25,"Basic Details"),n(),e(26,"div",54)(27,"div",55)(28,"span",56),t(29,"Gender"),n(),e(30,"span",57),t(31),n()(),e(32,"div",55)(33,"span",56),t(34,"Date of Birth"),n(),e(35,"span",57),t(36),n()(),e(37,"div",55)(38,"span",56),t(39,"Height"),n(),e(40,"span",57),t(41),n()(),e(42,"div",55)(43,"span",56),t(44,"Marital Status"),n(),e(45,"span",57),t(46),n()(),e(47,"div",55)(48,"span",56),t(49,"Mother Tongue"),n(),e(50,"span",57),t(51),n()()()(),e(52,"section",53)(53,"h4"),t(54,"Religion & Culture"),n(),e(55,"div",54)(56,"div",55)(57,"span",56),t(58,"Religion"),n(),e(59,"span",57),t(60),n()(),e(61,"div",55)(62,"span",56),t(63,"Caste"),n(),e(64,"span",57),t(65),n()(),e(66,"div",55)(67,"span",56),t(68,"Gothra"),n(),e(69,"span",57),t(70),n()(),e(71,"div",55)(72,"span",56),t(73,"Manglik"),n(),e(74,"span",57),t(75),n()(),e(76,"div",55)(77,"span",56),t(78,"Dargah/Fateha"),n(),e(79,"span",57),t(80),n()()()(),e(81,"section",53)(82,"h4"),t(83,"Education & Career"),n(),e(84,"div",54)(85,"div",55)(86,"span",56),t(87,"Highest Education"),n(),e(88,"span",57),t(89),n()(),e(90,"div",55)(91,"span",56),t(92,"Degree"),n(),e(93,"span",57),t(94),n()(),e(95,"div",55)(96,"span",56),t(97,"Occupation"),n(),e(98,"span",57),t(99),n()(),e(100,"div",55)(101,"span",56),t(102,"Company"),n(),e(103,"span",57),t(104),n()(),e(105,"div",55)(106,"span",56),t(107,"Monthly Income"),n(),e(108,"span",57),t(109),n()(),e(110,"div",55)(111,"span",56),t(112,"Place of Work"),n(),e(113,"span",57),t(114),n()()()(),e(115,"section",53)(116,"h4"),t(117,"Family Details"),n(),e(118,"div",54)(119,"div",55)(120,"span",56),t(121,"Father Status"),n(),e(122,"span",57),t(123),n()(),e(124,"div",55)(125,"span",56),t(126,"Mother Status"),n(),e(127,"span",57),t(128),n()(),e(129,"div",55)(130,"span",56),t(131,"Siblings"),n(),e(132,"span",57),t(133),n()(),e(134,"div",55)(135,"span",56),t(136,"Family Type"),n(),e(137,"span",57),t(138),n()(),e(139,"div",55)(140,"span",56),t(141,"Family Values"),n(),e(142,"span",57),t(143),n()(),e(144,"div",55)(145,"span",56),t(146,"Father Name/Occ."),n(),e(147,"span",57),t(148),n()(),e(149,"div",55)(150,"span",56),t(151,"Mother Name/Occ."),n(),e(152,"span",57),t(153),n()()()(),e(154,"section",53)(155,"h4"),t(156,"Location"),n(),e(157,"div",54)(158,"div",55)(159,"span",56),t(160,"Country"),n(),e(161,"span",57),t(162),n()(),e(163,"div",55)(164,"span",56),t(165,"State"),n(),e(166,"span",57),t(167),n()(),e(168,"div",55)(169,"span",56),t(170,"District"),n(),e(171,"span",57),t(172),n()(),e(173,"div",55)(174,"span",56),t(175,"City/Locality"),n(),e(176,"span",57),t(177),n()(),e(178,"div",55)(179,"span",56),t(180,"Pin Code"),n(),e(181,"span",57),t(182),n()(),e(183,"div",55)(184,"span",56),t(185,"Native Place"),n(),e(186,"span",57),t(187),n()()()(),e(188,"section",53)(189,"h4"),t(190,"Lifestyle & Bio"),n(),e(191,"div",58)(192,"div",55)(193,"span",56),t(194,"Bio"),n(),e(195,"span",59),t(196),n()()(),e(197,"div",54)(198,"div",55)(199,"span",56),t(200,"Diet"),n(),e(201,"span",57),t(202),n()(),e(203,"div",55)(204,"span",56),t(205,"Smoking"),n(),e(206,"span",57),t(207),n()(),e(208,"div",55)(209,"span",56),t(210,"Drinking"),n(),e(211,"span",57),t(212),n()(),e(213,"div",55)(214,"span",56),t(215,"Complexion"),n(),e(216,"span",57),t(217),n()()(),e(218,"div",60)(219,"div",55)(220,"span",56),t(221,"Hobbies"),n(),e(222,"span",57)(223,"div",61),T(224,hn,2,1,"span",62,le,!1,Sn,1,0),n()()()()(),e(227,"section",63)(228,"h4"),t(229,"Partner Preferences"),n(),e(230,"div",54)(231,"div",55)(232,"span",56),t(233,"Age Range"),n(),e(234,"span",57),t(235),n()(),e(236,"div",55)(237,"span",56),t(238,"Education"),n(),e(239,"span",57),t(240),n()(),e(241,"div",55)(242,"span",56),t(243,"States"),n(),e(244,"span",57)(245,"div",61),T(246,En,2,1,"span",62,le,!1,Pn,1,0),n()()()()()()()()()}if(r&2){let i,o,d,m,w,N,F,W,R,L,B,j,Y,S,ae,de,se,me,ce,pe,ue,fe,ge,_e,xe,Ce,ve,be,he,q,J,Se,Ee,Pe,$,Me,we,ye,Oe,I,te,ne,f,Q,Ze,et,u=c();l(4),k("Full Profile: ",(i=u.selectedProfile())==null?null:i.fullName),l(6),h((o=u.selectedProfile())!=null&&o.profilePhotoUrl?10:11),l(4),s((d=u.selectedProfile())==null?null:d.fullName),l(2),s((m=u.selectedProfile())==null?null:m.profileId),l(2),oe(re("tier-badge tier-",((w=u.selectedProfile())==null||w.userId==null?null:w.userId.membershipTier)||"bronze")),l(),s(((N=u.selectedProfile())==null||N.userId==null?null:N.userId.membershipTier)||"bronze"),l(),O("active",((F=u.selectedProfile())==null?null:F.isActive)!==!1),l(),s(((W=u.selectedProfile())==null?null:W.isActive)===!1?"Inactive":"Active"),l(10),s((R=u.selectedProfile())==null?null:R.gender),l(5),s(((L=u.selectedProfile())==null?null:L.dateOfBirth)||"\u2014"),l(5),s(((B=u.selectedProfile())==null?null:B.height)||"\u2014"),l(5),s(((j=u.selectedProfile())==null?null:j.maritalStatus)||"\u2014"),l(5),s(((Y=u.selectedProfile())==null?null:Y.motherTongue)||"\u2014"),l(9),s(((S=u.selectedProfile())==null?null:S.religion)||"\u2014"),l(5),s(((ae=u.selectedProfile())==null?null:ae.caste)||"\u2014"),l(5),s(((de=u.selectedProfile())==null?null:de.gothra)||"\u2014"),l(5),s(((se=u.selectedProfile())==null?null:se.manglik)||"\u2014"),l(5),s(((me=u.selectedProfile())==null?null:me.visitDarghaFateha)||"\u2014"),l(9),s(((ce=u.selectedProfile())==null?null:ce.highestEducation)||"\u2014"),l(5),s(((pe=u.selectedProfile())==null?null:pe.degree)||"\u2014"),l(5),s(((ue=u.selectedProfile())==null?null:ue.occupation)||"\u2014"),l(5),s(((fe=u.selectedProfile())==null?null:fe.company)||"\u2014"),l(5),s(((ge=u.selectedProfile())==null?null:ge.monthlyIncome)||"\u2014"),l(5),s(((_e=u.selectedProfile())==null?null:_e.placeOfOccupation)||"\u2014"),l(9),s(((xe=u.selectedProfile())==null?null:xe.fatherStatus)||"\u2014"),l(5),s(((Ce=u.selectedProfile())==null?null:Ce.motherStatus)||"\u2014"),l(5),s(((ve=u.selectedProfile())==null?null:ve.siblings)||"\u2014"),l(5),s(((be=u.selectedProfile())==null?null:be.familyType)||"\u2014"),l(5),s(((he=u.selectedProfile())==null?null:he.familyValues)||"\u2014"),l(5),K("",(q=u.selectedProfile())==null?null:q.fatherName," / ",(q=u.selectedProfile())==null?null:q.fatherOccupation),l(5),K("",(J=u.selectedProfile())==null?null:J.motherName," / ",(J=u.selectedProfile())==null?null:J.motherOccupation),l(9),s((Se=u.selectedProfile())==null?null:Se.country),l(5),s((Ee=u.selectedProfile())==null?null:Ee.state),l(5),s((Pe=u.selectedProfile())==null?null:Pe.district),l(5),K("",($=u.selectedProfile())==null?null:$.city," / ",($=u.selectedProfile())==null?null:$.locality),l(5),s((Me=u.selectedProfile())==null?null:Me.pinCode),l(5),s((we=u.selectedProfile())==null?null:we.nativePlace),l(9),s(((ye=u.selectedProfile())==null?null:ye.bio)||"No bio provided."),l(6),s(((Oe=u.selectedProfile())==null?null:Oe.diet)||"\u2014"),l(5),s(((I=u.selectedProfile())==null?null:I.smoking)||"\u2014"),l(5),s(((te=u.selectedProfile())==null?null:te.drinking)||"\u2014"),l(5),s(((ne=u.selectedProfile())==null?null:ne.complexion)||"\u2014"),l(7),D((f=u.selectedProfile())==null?null:f.hobbies),l(11),K("",(Q=u.selectedProfile())==null||Q.partnerPreferences==null||Q.partnerPreferences.ageRange==null?null:Q.partnerPreferences.ageRange.min," - ",(Q=u.selectedProfile())==null||Q.partnerPreferences==null||Q.partnerPreferences.ageRange==null?null:Q.partnerPreferences.ageRange.max," yrs"),l(5),s(((Ze=u.selectedProfile())==null||Ze.partnerPreferences==null?null:Ze.partnerPreferences.education)||"\u2014"),l(6),D((et=u.selectedProfile())==null||et.partnerPreferences==null?null:et.partnerPreferences.state)}}function wn(r,a){if(r&1&&(e(0,"div",18),t(1),n()),r&2){let i=c();l(),s(i.toast())}}var Qe=class r{constructor(a){this.api=a}profiles=x([]);loading=x(!0);page=x(1);pages=x(1);total=x(0);search="";filterGender="";filterTier="";filterActive="";toast=x("");selectedProfile=x(null);searchTimer;exportCSV(){let a=localStorage.getItem("admin_token"),i=`${H.apiUrl}/admin/export/profiles?token=${a}`;window.open(i,"_blank")}ngOnInit(){this.load()}async load(){this.loading.set(!0);try{let a=await this.api.getProfiles({page:this.page(),limit:20,gender:this.filterGender,tier:this.filterTier,isActive:this.filterActive,search:this.search});this.profiles.set(a.profiles),this.total.set(a.total),this.pages.set(a.pages)}catch{}this.loading.set(!1)}onSearch(){clearTimeout(this.searchTimer),this.searchTimer=setTimeout(()=>{this.page.set(1),this.load()},400)}prevPage(){this.page.update(a=>a-1),this.load()}nextPage(){this.page.update(a=>a+1),this.load()}async toggleActive(a){let i=await this.api.deactivateProfile(a._id);a.isActive=i.isActive,this.showToast(i.message)}async toggleFeature(a){let i=await this.api.featureProfile(a._id);a.featured=i.featured,this.showToast(i.message)}viewFullProfile(a){this.selectedProfile.set(a)}showToast(a){this.toast.set(a),setTimeout(()=>this.toast.set(""),3e3)}onImgError(a){let i=a.target;i.style.display="none"}photoUrl(a){return a?a.startsWith("http")?a:`${H.backendUrl}${a}`:""}static \u0275fac=function(i){return new(i||r)(V(Ve))};static \u0275cmp=A({type:r,selectors:[["app-profiles"]],decls:37,vars:7,consts:[[1,"profiles-page"],[1,"filters"],["type","text","placeholder","Search name, ID or Profile ID...",1,"input-filter",3,"ngModelChange","ngModel"],[1,"select-filter",3,"ngModelChange","ngModel"],["value",""],["value","male"],["value","female"],["value","bronze"],["value","silver"],["value","gold"],["value","diamond"],["value","crown"],["value","true"],["value","false"],[1,"btn-export",3,"click"],[1,"table-card"],[1,"loading"],[1,"modal-overlay"],[1,"toast"],[1,"admin-table"],[3,"inactive-row"],[1,"pagination"],[1,"btn-page",3,"click","disabled"],[1,"page-info"],[1,"total-info"],[1,"profile-cell"],["alt","photo",1,"profile-photo",3,"src"],[1,"profile-avatar",3,"female"],[1,"profile-name"],[1,"profile-id"],[1,"info-cell"],[1,"status-badge"],[1,"featured-badge"],[1,"date-cell"],[1,"action-row"],["title","View Full Profile",1,"btn-action","blue",3,"click"],[1,"btn-action",3,"click","title"],["alt","photo",1,"profile-photo",3,"error","src"],[1,"profile-avatar"],["colspan","7",1,"empty-row"],[1,"modal-overlay",3,"click"],[1,"modal","full-profile-modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[1,"profile-header"],[1,"header-photo"],["alt","photo",1,"large-photo",3,"src"],[1,"large-avatar",3,"female"],[1,"header-info"],[1,"profile-id-tag"],[1,"header-badges"],[1,"profile-sections"],[1,"info-section"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"info-grid","bio-row"],[1,"value","bio-text"],[1,"info-grid","hobbies-row"],[1,"tags"],[1,"tag"],[1,"info-section","partner-section"],[1,"large-avatar"]],template:function(i,o){i&1&&(e(0,"div",0)(1,"div",1)(2,"input",2),M("ngModelChange",function(m){return P(o.search,m)||(o.search=m),m}),p("ngModelChange",function(){return o.onSearch()}),n(),e(3,"select",3),M("ngModelChange",function(m){return P(o.filterGender,m)||(o.filterGender=m),m}),p("ngModelChange",function(){return o.load()}),e(4,"option",4),t(5,"All Genders"),n(),e(6,"option",5),t(7,"Male"),n(),e(8,"option",6),t(9,"Female"),n()(),e(10,"select",3),M("ngModelChange",function(m){return P(o.filterTier,m)||(o.filterTier=m),m}),p("ngModelChange",function(){return o.load()}),e(11,"option",4),t(12,"All Tiers"),n(),e(13,"option",7),t(14,"Bronze"),n(),e(15,"option",8),t(16,"Silver"),n(),e(17,"option",9),t(18,"Gold"),n(),e(19,"option",10),t(20,"Diamond"),n(),e(21,"option",11),t(22,"Crown"),n()(),e(23,"select",3),M("ngModelChange",function(m){return P(o.filterActive,m)||(o.filterActive=m),m}),p("ngModelChange",function(){return o.load()}),e(24,"option",4),t(25,"All Status"),n(),e(26,"option",12),t(27,"Active"),n(),e(28,"option",13),t(29,"Inactive"),n()(),e(30,"button",14),p("click",function(){return o.exportCSV()}),t(31,"Export CSV"),n()(),e(32,"div",15),b(33,pn,2,0,"div",16)(34,Cn,30,6),n(),b(35,Mn,249,53,"div",17),b(36,wn,2,1,"div",18),n()),i&2&&(l(2),E("ngModel",o.search),l(),E("ngModel",o.filterGender),l(7),E("ngModel",o.filterTier),l(13),E("ngModel",o.filterActive),l(10),h(o.loading()?33:34),l(2),h(o.selectedProfile()?35:-1),l(),h(o.toast()?36:-1))},dependencies:[G,De,Ge,Ye,Ue,je,Ie,Te,Fe],styles:[".profiles-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.filters[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap;align-items:center}.input-filter[_ngcontent-%COMP%], .select-filter[_ngcontent-%COMP%]{padding:.6rem .9rem;border-radius:8px;border:1px solid #334155;background:#1e293b;color:#f1f5f9;font-size:.9rem;outline:none}.input-filter[_ngcontent-%COMP%]{flex:1;min-width:200px}.btn-export[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border-radius:8px;border:1px solid #334155;background:#0f172a;color:#94a3b8;font-size:.9rem;font-weight:700;cursor:pointer;white-space:nowrap;transition:all .2s}.btn-export[_ngcontent-%COMP%]:hover{background:#1e293b;color:#fff}.table-card[_ngcontent-%COMP%]{background:#1e293b;border-radius:12px;border:1px solid #334155;overflow:hidden}.loading[_ngcontent-%COMP%], .empty-row[_ngcontent-%COMP%]{color:#94a3b8;text-align:center;padding:3rem}.admin-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#0f172a}th[_ngcontent-%COMP%]{color:#64748b;font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;padding:.75rem 1rem;text-align:left}td[_ngcontent-%COMP%]{padding:.85rem 1rem;border-top:1px solid #334155;color:#f1f5f9;font-size:.85rem;vertical-align:middle}.inactive-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{opacity:.5}.profile-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.profile-photo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #334155;flex-shrink:0}.profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.profile-avatar.female[_ngcontent-%COMP%]{background:#ec4899}.profile-name[_ngcontent-%COMP%]{font-weight:600;color:#f1f5f9}.profile-id[_ngcontent-%COMP%]{color:#64748b;font-size:.75rem;font-family:monospace}.info-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.15rem;color:#94a3b8;font-size:.8rem}.tier-badge[_ngcontent-%COMP%]{padding:.2rem .55rem;border-radius:12px;font-size:.72rem;font-weight:700;text-transform:uppercase}.tier-bronze[_ngcontent-%COMP%]{background:#7c3516;color:#fb923c}.tier-silver[_ngcontent-%COMP%]{background:#1e3a5f;color:#94a3b8}.tier-gold[_ngcontent-%COMP%]{background:#713f12;color:#fbbf24}.tier-diamond[_ngcontent-%COMP%]{background:#500724;color:#f472b6}.tier-crown[_ngcontent-%COMP%]{background:#3b0764;color:#c084fc}.status-badge[_ngcontent-%COMP%]{padding:.2rem .6rem;border-radius:12px;font-size:.75rem;font-weight:600}.status-badge.active[_ngcontent-%COMP%]{background:#052e16;color:#4ade80}.status-badge.inactive[_ngcontent-%COMP%]{background:#450a0a;color:#f87171}.featured-badge[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.featured-badge.yes[_ngcontent-%COMP%]{color:#fbbf24}.date-cell[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem}.action-row[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-action[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:6px;border:none;cursor:pointer;font-size:.85rem;background:#334155;display:flex;align-items:center;justify-content:center;transition:all .2s}.btn-action.blue[_ngcontent-%COMP%]{background:#1e3a8a;color:#60a5fa}.btn-action.warn[_ngcontent-%COMP%]{background:#451a03;color:#fb923c}.btn-action.green[_ngcontent-%COMP%]{background:#064e3b;color:#4ade80}.btn-action.yellow[_ngcontent-%COMP%]{background:#451a03;color:#fbbf24}.btn-action[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;border-top:1px solid #334155}.btn-page[_ngcontent-%COMP%]{padding:.4rem .9rem;border-radius:6px;border:1px solid #334155;background:#0f172a;color:#94a3b8;font-size:.85rem;cursor:pointer}.btn-page[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem}.total-info[_ngcontent-%COMP%]{color:#64748b;font-size:.8rem;margin-left:auto}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:100;padding:2rem}.modal[_ngcontent-%COMP%]{background:#1e293b;border-radius:16px;width:100%;max-width:800px;max-height:90vh;border:1px solid #334155;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 25px 50px -12px #00000080}.modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid #334155;display:flex;justify-content:space-between;align-items:center;background:#0f172a}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9;margin:0;font-size:1.1rem}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:#64748b;cursor:pointer;font-size:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto}.profile-header[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;margin-bottom:2.5rem;border-bottom:1px solid #334155;padding-bottom:2rem}.large-photo[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:20px;object-fit:cover;border:3px solid #6366f1}.large-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:20px;background:#6366f1;color:#fff;display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:800}.large-avatar.female[_ngcontent-%COMP%]{background:#ec4899}.header-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin:0 0 .5rem;font-size:1.75rem}.profile-id-tag[_ngcontent-%COMP%]{color:#64748b;font-family:monospace;margin:0 0 1rem;font-size:1rem}.header-badges[_ngcontent-%COMP%]{display:flex;gap:.75rem}.info-section[_ngcontent-%COMP%]{margin-bottom:2rem}.info-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#6366f1;text-transform:uppercase;font-size:.75rem;letter-spacing:1px;margin:0 0 1rem;border-bottom:1px solid #334155;padding-bottom:.5rem}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.25rem}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#64748b;font-size:.7rem;text-transform:uppercase;font-weight:600}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#f1f5f9;font-size:.95rem}.bio-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.bio-text[_ngcontent-%COMP%]{line-height:1.6;color:#94a3b8}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.tag[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1;padding:.2rem .6rem;border-radius:6px;font-size:.8rem}.toast[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;background:#1e293b;border:1px solid #10b981;color:#10b981;padding:.75rem 1.25rem;border-radius:10px;font-size:.9rem;font-weight:600;z-index:200}"]})};var wt=[{path:"login",component:He},{path:"",component:qe,canActivate:[St],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Je},{path:"users",component:$e},{path:"profiles",component:Qe},{path:"reports",loadComponent:()=>import("./chunk-DNT5XEYR.js").then(r=>r.ReportsComponent)},{path:"orders",loadComponent:()=>import("./chunk-QWTPIQ2Q.js").then(r=>r.OrdersComponent)},{path:"interests",loadComponent:()=>import("./chunk-ATUTBEZK.js").then(r=>r.InterestsComponent)},{path:"conversations",loadComponent:()=>import("./chunk-4NEAUSXI.js").then(r=>r.ConversationsComponent)},{path:"settings",loadComponent:()=>import("./chunk-7T4VUC6B.js").then(r=>r.SettingsComponent)},{path:"audit-log",loadComponent:()=>import("./chunk-WMIXDLEB.js").then(r=>r.AuditLogComponent)},{path:"announcements",loadComponent:()=>import("./chunk-HGAWUKHT.js").then(r=>r.AnnouncementsComponent)}]},{path:"**",redirectTo:""}];var yt={providers:[at(),xt(wt),ft()]};var Xe=class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=A({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&X(0,"router-outlet")},dependencies:[We],styles:["[_nghost-%COMP%]{display:block;height:100%}"]})};pt(Xe,yt).catch(r=>console.error(r));
