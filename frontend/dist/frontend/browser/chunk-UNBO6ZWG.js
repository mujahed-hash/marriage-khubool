import{a as ve}from"./chunk-VHTZ5DKB.js";import{a as A}from"./chunk-3OPSKGBN.js";import{a as Ce}from"./chunk-RTRXIX6L.js";import{b as pe,c as ge,d as fe,e as ue,f as be,g as _e,p as he}from"./chunk-AKKU7WAO.js";import{a as xe}from"./chunk-JJRD7MNC.js";import{a as ye}from"./chunk-WNVLNEZI.js";import{a as E}from"./chunk-FH2X7N32.js";import{a as K}from"./chunk-YRFZ7VUJ.js";import{$ as P,Aa as ae,Ba as le,C as X,Ca as ce,E as m,H as _,Ha as se,I as f,Ja as R,La as u,N as V,Na as me,Qa as de,R as k,Ra as F,S as w,Sa as M,U as D,Ua as x,V as j,W as h,X as t,Y as n,Z as s,_ as z,ba as Y,ca as Z,da as v,fa as c,ha as g,i as q,la as ee,n as J,na as B,oa as te,pa as a,qa as S,r as y,ra as C,s as d,t as p,ta as ne,ua as ie,va as oe,x as b,za as re}from"./chunk-AY3CH6AK.js";var N=class o{isMobileSidebarOpen=b(!1);toggleSidebar(){this.isMobileSidebarOpen.update(i=>!i)}closeSidebar(){this.isMobileSidebarOpen.set(!1)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=J({token:o,factory:o.\u0275fac,providedIn:"root"})};function Oe(o,i){if(o&1&&(t(0,"span",29),a(1),n()),o&2){let e=g(2);m(),S(e.notificationCount()>99?"99+":e.notificationCount())}}function Pe(o,i){if(o&1){let e=v();t(0,"div",18)(1,"a",27),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),s(2,"i",28),k(3,Oe,2,1,"span",29),n()()}if(o&2){let e=g();m(3),w(e.notificationCount()>0?3:-1)}}function Ee(o,i){if(o&1){let e=v();t(0,"div",30),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)})("touchstart",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),n()}}function Ne(o,i){if(o&1){let e=v();Y(0),t(1,"a",31),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),s(2,"i",32),a(3," My Profile"),n(),t(4,"a",33),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),s(5,"i",34),a(6),n(),t(7,"a",35),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),s(8,"i",36),a(9," Membership"),n(),t(10,"a",37),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),s(11,"i",38),a(12," Settings"),n(),t(13,"a",39),c("click",function(){d(e);let l=g();return p(l.logout())}),s(14,"i",40),a(15," Logout"),n(),Z()}if(o&2){let e=g();m(6),C(" Profile visitors (",e.visitorCount,")")}}function Te(o,i){if(o&1){let e=v();t(0,"a",41),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),s(1,"i",42),a(2," Login"),n(),t(3,"a",43),c("click",function(){d(e);let l=g();return p(l.dropdownOpen=!1)}),s(4,"i",44),a(5," Register"),n()}}var G=class o{constructor(i,e,r){this.themeService=i;this.authService=e;this.router=r}dropdownOpen=!1;searchQuery="";visitorCount=0;notificationCount=b(0);visitorService=y(A);notificationService=y(ve);layoutService=y(N);ngOnInit(){this.authService.isAuthenticated()&&(this.loadVisitorCount(),this.loadNotificationCount())}async loadVisitorCount(){try{let i=await this.visitorService.getMyVisitors();this.visitorCount=i.visitors?.length||0}catch{}}async loadNotificationCount(){try{let i=await this.notificationService.getNotifications();this.notificationCount.set(i.unreadCount||0)}catch{}}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}toggleMenu(){this.layoutService.toggleSidebar()}onSearch(){let i=this.searchQuery?.trim();i?this.router.navigate(["/search"],{queryParams:{q:i}}):this.router.navigate(["/search"])}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.dropdownOpen=!1,this.visitorCount=0,this.notificationCount.set(0)}static \u0275fac=function(e){return new(e||o)(_(Ce),_(E),_(F))};static \u0275cmp=f({type:o,selectors:[["app-navbar"]],decls:30,vars:7,consts:[["dropdownRef",""],["authLinks",""],[1,"nav"],[1,"nav-left"],["aria-label","Toggle menu",1,"menu-toggle",3,"click"],[1,"fa-solid","fa-bars"],[1,"logo"],["routerLink","/"],["loading","lazy","src","assets/logo.png","alt","Khubool Hai"],[1,"search-bar","hidden-mobile",3,"ngSubmit"],["type","text","name","searchQuery","placeholder","Search by name, city, occupation...",3,"ngModelChange","ngModel"],["type","submit",1,"search-btn"],[1,"fa-solid","fa-magnifying-glass"],[1,"icon-bar"],["routerLink","/shortlist","title","Shortlist",1,"icon-link","hidden-mobile"],[1,"fa-solid","fa-heart"],["routerLink","/chat","title","Chat",1,"icon-link","hidden-mobile"],[1,"fa-solid","fa-comments"],[1,"dropdown","notification-dropdown"],[1,"dropdown"],["class","dropdown-backdrop",3,"click","touchstart",4,"ngIf"],["type","button","id","userButton","aria-label","User menu",1,"icon-btn",3,"click","touchstart"],[1,"fa-solid","fa-circle-user"],[1,"dropdown-content"],["routerLink","/",1,"nav-link",3,"click"],[1,"fa-solid","fa-house"],[4,"ngIf","ngIfElse"],["routerLink","/notifications","title","Notifications",1,"notification-bell",3,"click"],[1,"fa-solid","fa-bell"],[1,"notification-badge"],[1,"dropdown-backdrop",3,"click","touchstart"],["routerLink","/my-profile",3,"click"],[1,"fa-solid","fa-address-card"],["routerLink","/profile-visitors",3,"click"],[1,"fa-solid","fa-eye"],["routerLink","/membership",3,"click"],[1,"fa-brands","fa-web-awesome"],["routerLink","/settings",3,"click"],[1,"fa-solid","fa-gear"],["href","javascript:void(0)",3,"click"],[1,"fa-solid","fa-power-off"],["routerLink","/login",3,"click"],[1,"fa-solid","fa-right-to-bracket"],["routerLink","/register",3,"click"],[1,"fa-solid","fa-user-plus"]],template:function(e,r){if(e&1){let l=v();t(0,"header")(1,"nav",2)(2,"div",3)(3,"button",4),c("click",function(){return d(l),p(r.toggleMenu())}),s(4,"i",5),n(),t(5,"div",6)(6,"a",7),s(7,"img",8),n()()(),t(8,"form",9),c("ngSubmit",function(){return d(l),p(r.onSearch())}),t(9,"input",10),oe("ngModelChange",function(O){return d(l),ie(r.searchQuery,O)||(r.searchQuery=O),p(O)}),n(),t(10,"button",11),s(11,"i",12),n()(),t(12,"div",13)(13,"a",14),s(14,"i",15),n(),t(15,"a",16),s(16,"i",17),n(),k(17,Pe,4,1,"div",18),t(18,"div",19,0),V(20,Ee,1,0,"div",20),t(21,"button",21),c("click",function(){return d(l),p(r.toggleDropdown())})("touchstart",function(O){return d(l),r.toggleDropdown(),O.preventDefault(),p(O.stopPropagation())}),s(22,"i",22),n(),t(23,"div",23)(24,"a",24),c("click",function(){return d(l),p(r.dropdownOpen=!1)}),s(25,"i",25),a(26," Homepage"),n(),V(27,Ne,16,1,"ng-container",26)(28,Te,6,0,"ng-template",null,1,ce),n()()()()()}if(e&2){let l=ee(29);m(9),ne("ngModel",r.searchQuery),m(8),w(r.authService.isAuthenticated()?17:-1),m(3),h("ngIf",r.dropdownOpen),m(3),B("show",r.dropdownOpen),m(4),h("ngIf",r.authService.isAuthenticated())("ngIfElse",l)}},dependencies:[u,R,x,M,he,_e,pe,ge,fe,be,ue],styles:[".nav[_ngcontent-%COMP%]{width:100%;min-height:var(--navbar-height, 4.5rem);padding:.5rem 1.25rem;display:flex;justify-content:space-between;align-items:center;background-color:var(--tier-secondary);box-shadow:0 2px 12px var(--tier-glow);position:sticky!important;top:0!important;left:0!important;right:0!important;z-index:1100!important;transition:all var(--transition-speed);box-sizing:border-box}.nav-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.menu-toggle[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center;background:transparent;border:none;color:var(--tier-primary);font-size:1.5rem;padding:.5rem;cursor:pointer;border-radius:8px;transition:background .2s;touch-action:manipulation}.menu-toggle[_ngcontent-%COMP%]:hover{background:#0000000d}.logo[_ngcontent-%COMP%]{flex-shrink:0}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;line-height:0}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:auto;object-fit:contain;display:block}.search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;max-width:400px;margin:0 1rem;background:#fff;border-radius:20px;padding:5px 0 5px 15px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:8px 12px;font-size:.95rem;min-width:0}.search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background:var(--tier-primary, #b32323);color:#fff;border:none;padding:8px 14px;border-radius:0 20px 20px 0;cursor:pointer;transition:opacity .2s}.search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{opacity:.9}.icon-bar[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center;color:var(--tier-primary)}.icon-link[_ngcontent-%COMP%], .icon-btn[_ngcontent-%COMP%]{color:var(--tier-primary);background:none;border:none;padding:0;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;text-decoration:none}.icon-link[_ngcontent-%COMP%]:hover{opacity:.8}.icon-btn[_ngcontent-%COMP%]{width:max-content;min-width:44px;min-height:44px;touch-action:manipulation}.icon-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{pointer-events:none}.icon-btn[_ngcontent-%COMP%]:hover{opacity:1;background:transparent;transform:none}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:transparent;z-index:1150;cursor:default}.dropdown[_ngcontent-%COMP%]{position:relative;z-index:1001}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:0;background-color:#fff;min-width:200px;box-shadow:0 8px 16px #0003;border-radius:8px;margin-top:10px;z-index:1200}.dropdown-content.show[_ngcontent-%COMP%]{display:block!important;opacity:1!important;visibility:visible!important;transform:none!important}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:flex;align-items:center;gap:10px}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--tier-secondary)}.notification-bell[_ngcontent-%COMP%]{position:relative;color:var(--tier-primary);text-decoration:none;font-size:1.2rem}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-8px;background:#ef4444;color:#fff;font-size:.65rem;font-weight:700;min-width:16px;height:16px;border-radius:8px;display:flex;align-items:center;justify-content:center;padding:0 4px}@media(max-width:768px){.nav[_ngcontent-%COMP%]{padding:.4rem .75rem;min-height:3.5rem}.nav-left[_ngcontent-%COMP%]{gap:.5rem}.menu-toggle[_ngcontent-%COMP%]{display:flex;padding:.4rem;font-size:1.25rem}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px}.icon-bar[_ngcontent-%COMP%]{gap:.75rem}.icon-link[_ngcontent-%COMP%], .icon-btn[_ngcontent-%COMP%], .notification-bell[_ngcontent-%COMP%]{font-size:1.1rem}.dropdown-content[_ngcontent-%COMP%]{min-width:180px;right:0;left:auto}.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}@media(max-width:480px){.nav[_ngcontent-%COMP%]{padding:.35rem .5rem;min-height:3.25rem}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:28px}.icon-bar[_ngcontent-%COMP%]{gap:.5rem}}"]})};function Ie(o,i){if(o&1){let e=v();t(0,"div",15),c("click",function(){d(e);let l=g();return p(l.layoutService.closeSidebar())}),n()}}var U=class o{constructor(i,e){this.authService=i;this.router=e}visitorCount=0;visitorService=y(A);layoutService=y(N);ngOnInit(){this.authService.isAuthenticated()&&this.loadVisitorCount()}async loadVisitorCount(){try{let i=await this.visitorService.getMyVisitors();this.visitorCount=i.visitors?.length||0}catch{}}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.visitorCount=0,this.layoutService.closeSidebar()}static \u0275fac=function(e){return new(e||o)(_(E),_(F))};static \u0275cmp=f({type:o,selectors:[["app-sidebar"]],decls:47,vars:4,consts:[["class","mobile-overlay",3,"click",4,"ngIf"],[1,"leftsidebar"],[1,"leftSideBar-links"],["href","javascript:void(0)",1,"nav-link","mobile-close-btn",3,"click"],[1,"material-symbols-outlined"],["routerLink","/",1,"nav-link",3,"click"],["routerLink","/my-profile",3,"click"],["routerLink","/profile-visitors",3,"click"],["routerLink","/shortlist",3,"click"],["routerLink","/interests",3,"click"],["routerLink","/chat",3,"click"],["routerLink","/notifications",3,"click"],["routerLink","/membership",3,"click"],["routerLink","/settings",3,"click"],["href","javascript:void(0)",1,"nav-link","logout-link",3,"click"],[1,"mobile-overlay",3,"click"]],template:function(e,r){e&1&&(V(0,Ie,1,0,"div",0),t(1,"div",1)(2,"div",2)(3,"a",3),c("click",function(){return r.layoutService.closeSidebar()}),t(4,"span",4),a(5,"close"),n(),a(6," Close Menu "),n(),t(7,"a",5),c("click",function(){return r.layoutService.closeSidebar()}),t(8,"span",4),a(9,"family_home"),n(),a(10," Home"),n(),t(11,"a",6),c("click",function(){return r.layoutService.closeSidebar()}),t(12,"span",4),a(13,"diagnosis"),n(),a(14," My Profile"),n(),t(15,"a",7),c("click",function(){return r.layoutService.closeSidebar()}),t(16,"span",4),a(17,"mystery"),n(),a(18),n(),t(19,"a",8),c("click",function(){return r.layoutService.closeSidebar()}),t(20,"span",4),a(21,"bookmark"),n(),a(22," Shortlisted Profiles"),n(),t(23,"a",9),c("click",function(){return r.layoutService.closeSidebar()}),t(24,"span",4),a(25,"favorite"),n(),a(26," My Interests"),n(),t(27,"a",10),c("click",function(){return r.layoutService.closeSidebar()}),t(28,"span",4),a(29,"chat"),n(),a(30," Chat"),n(),t(31,"a",11),c("click",function(){return r.layoutService.closeSidebar()}),t(32,"span",4),a(33,"notifications"),n(),a(34," Notifications"),n(),t(35,"a",12),c("click",function(){return r.layoutService.closeSidebar()}),t(36,"span",4),a(37,"workspace_premium"),n(),a(38," Membership"),n(),t(39,"a",13),c("click",function(){return r.layoutService.closeSidebar()}),t(40,"span",4),a(41,"settings_heart"),n(),a(42," Settings"),n(),t(43,"a",14),c("click",function(){return r.logout()}),t(44,"span",4),a(45,"move_item"),n(),a(46," Logout"),n()()()),e&2&&(h("ngIf",r.layoutService.isMobileSidebarOpen()),m(),B("mobile-open",r.layoutService.isMobileSidebarOpen()),m(17),C(" Profile visitors (",r.visitorCount,")"))},dependencies:[u,R,x,M],styles:[".leftsidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:fixed;top:var(--navbar-height, 4.5rem);left:0;height:calc(100vh - var(--navbar-height, 4.5rem));width:var(--sidebar-left-width, 10%);min-width:120px;box-shadow:0 3px 15px #f003;background-color:#fef4db;z-index:50;overflow-y:auto;overflow-x:hidden}.leftSideBar-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;cursor:pointer;margin-top:2rem}.leftSideBar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#b32323;font-family:suse,poppins,Montserrat,sans-serif;font-size:14px;font-weight:600;display:flex;align-items:center;padding:5px}.leftSideBar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-radius:5px;background-color:#ffe7c9}.leftSideBar-links[_ngcontent-%COMP%]   a.logout-link[_ngcontent-%COMP%]{cursor:pointer}.leftSideBar-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .leftSideBar-links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a4130c;font-size:1.3rem;margin-right:5px}@media(max-width:768px){.mobile-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.leftsidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-280px;width:250px;height:100vh;z-index:1000;background-color:#fef4db;transition:left .3s ease;padding-top:10px}.leftsidebar.mobile-open[_ngcontent-%COMP%]{left:0}.mobile-close-btn[_ngcontent-%COMP%]{display:flex;color:#333;font-size:1.1rem;margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.1);padding-bottom:15px}}@media(min-width:769px){.mobile-overlay[_ngcontent-%COMP%]{display:none}.mobile-close-btn[_ngcontent-%COMP%]{display:none!important}}"]})};var Ve=o=>["/profile",o],ze=(o,i)=>i._id||i.profileId||o;function Le(o,i){if(o&1&&(t(0,"a",3)(1,"div",5),s(2,"span",6),t(3,"div",7),s(4,"img",8),ae(5,"photoUrl"),n()(),t(6,"div",9)(7,"h2",10),a(8),n(),t(9,"p",11),a(10),n(),t(11,"p",12),a(12),n(),t(13,"p",13),a(14),n(),t(15,"p",14),a(16),n(),t(17,"span",15),a(18,"View Profile"),n()()()),o&2){let e=i.$implicit,r=g();h("routerLink",re(12,Ve,e.profileId||e._id))("ngClass",r.getTierCardClass(e.membershipTier)),m(2),h("ngClass",r.getTierOverlayClass(e.membershipTier)),m(2),h("src",le(5,10,e.profilePhotoUrl)||r.getPlaceholderImg(e.gender),X),m(4),S(e.fullName||"Profile"),m(2),C("DOB: ",e.dateOfBirth||"N/A"),m(2),S(e.occupation||"N/A"),m(2),C("Height: ",e.height||"N/A"),m(2),C("Location: ",e.city||e.state||"N/A"),m(),h("ngClass",r.getTierViewClass(e.membershipTier))}}function De(o,i){o&1&&(t(0,"div",4)(1,"p"),a(2,"No suggestions yet"),n(),t(3,"a",16),a(4,"Browse profiles"),n()())}var Q=class o{constructor(i){this.profileService=i}suggestions=b([]);ngOnInit(){this.profileService.getProfiles({limit:3}).then(i=>this.suggestions.set(i.profiles),()=>{})}getPlaceholderImg(i){return i==="female"?"assets/bride.png":"assets/groom.png"}getTierClass(i){return i?`tier-${i}`:"tier-bronze"}getTierCardClass(i){let e=(i||"bronze").toLowerCase();return["diamond","gold","silver","crown"].includes(e)?`${e}-card`:"bronze-card"}getTierOverlayClass(i){let e=(i||"bronze").toLowerCase();return["diamond","gold","silver","crown"].includes(e)?`${e}-overlay`:"bronze-overlay"}getTierViewClass(i){let e=(i||"bronze").toLowerCase();return["diamond","gold","silver","crown"].includes(e)?`${e}-view-profile`:"bronze-view-profile"}static \u0275fac=function(e){return new(e||o)(_(ye))};static \u0275cmp=f({type:o,selectors:[["app-right-sidebar"]],decls:8,vars:1,consts:[[1,"rightsidebar"],[1,"rightsidebarlink"],[1,"fa-solid","fa-sparkles"],[1,"card","sidebar-card",3,"routerLink","ngClass"],[1,"suggestion-empty"],[1,"image-content"],[1,"overlay",3,"ngClass"],[1,"card-image"],["loading","lazy","alt","profile",1,"card-image",3,"src"],[1,"card-content"],[1,"full-name","card-name"],[1,"dob"],[1,"occupation"],[1,"height"],[1,"state"],[1,"sidebar-view-profile",3,"ngClass"],["routerLink","/profiles/diamond"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"h3"),s(3,"i",2),a(4," Suggested Profiles"),n(),D(5,Le,19,14,"a",3,ze,!1,De,5,0,"div",4),n()()),e&2&&(m(5),j(r.suggestions()))},dependencies:[u,se,x,M,xe],styles:['.rightsidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:fixed;top:var(--navbar-height, 4.5rem);right:0;height:calc(100vh - var(--navbar-height, 4.5rem));width:var(--sidebar-right-width, 18%);box-shadow:-2px 0 15px #0000001a;background-color:#fef4db;z-index:50;overflow-y:auto;overflow-x:hidden;padding-bottom:2rem;box-sizing:border-box}.rightsidebarlink[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center;justify-content:space-between;gap:1.5rem;width:90%;margin-top:1rem}.rightsidebarlink[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin-top:1rem;font-size:18px;color:#8d461a;text-align:center;border-bottom:2px solid #e0c098;padding-bottom:.5rem}.rightsidebarlink[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.rightsidebar[_ngcontent-%COMP%]   .card.sidebar-card[_ngcontent-%COMP%]{width:100%;max-width:200px;margin:0 auto;text-decoration:none;color:inherit}.rightsidebar[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{height:120px;width:120px}.rightsidebar[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block}.sidebar-view-profile[_ngcontent-%COMP%]{display:inline-block;padding:8px 16px;border-radius:8px;color:#fff!important;font-size:14px;font-weight:600;text-decoration:none;cursor:pointer;transition:all .3s ease}.bronze-card[_ngcontent-%COMP%]{border-radius:25px;background-color:#fff;box-shadow:0 3px 20px #cd7f3266;transition:transform .3s ease,box-shadow .3s ease,background-color .3s ease}.bronze-card[_ngcontent-%COMP%]:hover{transform:perspective(500px) rotateX(5deg);box-shadow:0 5px 30px #cd7f3280}.bronze-view-profile[_ngcontent-%COMP%]{background-color:#cd7f32;border:none;margin:14px}.bronze-view-profile[_ngcontent-%COMP%]:hover{background-color:#b87333}.bronze-overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background:linear-gradient(135deg,#e8c9a0,#cd7f32);left:0;top:0;border-radius:25px 25px 0}.bronze-overlay[_ngcontent-%COMP%]:before, .bronze-overlay[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;bottom:-20px;height:20px;width:20px;background-color:#cd7f32;border:none;outline:none;transition:none}.bronze-overlay[_ngcontent-%COMP%]:after{border-radius:0 25px 0 0;background-color:#fff;border:none;outline:none}.suggestion-empty[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;color:#888}.suggestion-empty[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b32323;text-decoration:none;font-weight:600;margin-top:.5rem;display:inline-block}.suggestion-empty[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media(max-width:1200px){.rightsidebar[_ngcontent-%COMP%]{width:22%}}@media(max-width:992px){.rightsidebar[_ngcontent-%COMP%]{display:none}}']})};var je=(o,i)=>i._id;function Be(o,i){o&1&&(z(0,"div",0)(1,"span",2),a(2,"\u26A0\uFE0F"),P(),z(3,"span",3),a(4,"We're currently performing maintenance. Some features may be temporarily unavailable."),P()())}function Re(o,i){if(o&1&&(z(0,"div",4)(1,"span",2),a(2),P(),z(3,"span",3)(4,"strong"),a(5),P(),a(6),P()()),o&2){let e=i.$implicit;te("ann-"+e.type),m(2),S(e.type==="warning"?"\u26A0\uFE0F":e.type==="maintenance"?"\u{1F527}":"\u2139\uFE0F"),m(3),S(e.title),m(),C(" \u2014 ",e.message)}}var $=class o{constructor(i){this.http=i}maintenanceMode=b(!1);announcements=b([]);async ngOnInit(){try{let[i,e]=await Promise.all([q(this.http.get(`${K.apiUrl}/platform/status`)),q(this.http.get(`${K.apiUrl}/platform/announcements/active`))]);this.maintenanceMode.set(i.maintenanceMode??!1),this.announcements.set(e??[])}catch{this.maintenanceMode.set(!1),this.announcements.set([])}}static \u0275fac=function(e){return new(e||o)(_(me))};static \u0275cmp=f({type:o,selectors:[["app-maintenance-banner"]],decls:3,vars:1,consts:[[1,"banner","maintenance"],[1,"banner",3,"class"],[1,"banner-icon"],[1,"banner-text"],[1,"banner"]],template:function(e,r){e&1&&(k(0,Be,5,0,"div",0),D(1,Re,7,5,"div",1,je)),e&2&&(w(r.maintenanceMode()?0:-1),m(),j(r.announcements()))},dependencies:[u],styles:[".banner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.6rem 1rem;font-size:.9rem;font-weight:500}.banner.maintenance[_ngcontent-%COMP%]{background:#f59e0b;color:#1f2937}.banner.ann-info[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.banner.ann-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#1f2937}.banner.ann-maintenance[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.banner-icon[_ngcontent-%COMP%]{font-size:1.1rem}"]})};function Fe(o,i){if(o&1){let e=v();t(0,"div",0)(1,"span",1),s(2,"i",2),n(),t(3,"span",3),a(4,"Join free to connect with verified profiles"),n(),t(5,"a",4),a(6,"Create Free Profile"),n(),t(7,"button",5),c("click",function(){d(e);let l=g();return p(l.dismiss())}),s(8,"i",6),n()()}}var Me="khubool_guest_banner_dismissed",W=class o{authService=y(E);visible=b(!1);constructor(){!this.authService.isAuthenticated()&&!localStorage.getItem(Me)&&this.visible.set(!0)}dismiss(){localStorage.setItem(Me,"1"),this.visible.set(!1)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-guest-banner"]],decls:1,vars:1,consts:[[1,"guest-banner"],[1,"guest-banner-icon"],[1,"fa-solid","fa-heart"],[1,"guest-banner-text"],["routerLink","/register",1,"guest-banner-cta"],["type","button","aria-label","Dismiss",1,"guest-banner-dismiss",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(e,r){e&1&&k(0,Fe,9,0,"div",0),e&2&&w(r.visible()?0:-1)},dependencies:[u,x,M],styles:[".guest-banner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:.5rem 1rem;font-size:.9rem;background:linear-gradient(135deg,var(--tier-primary, #db2777) 0%,#be185d 100%);color:#fff;position:sticky;top:0;z-index:99;box-shadow:0 2px 8px #0000001a}.guest-banner-icon[_ngcontent-%COMP%]{font-size:1rem}.guest-banner-text[_ngcontent-%COMP%]{font-weight:500}.guest-banner-cta[_ngcontent-%COMP%]{padding:.35rem .75rem;background:#fff;color:var(--tier-primary, #db2777);border-radius:6px;font-weight:600;text-decoration:none;font-size:.85rem}.guest-banner-cta[_ngcontent-%COMP%]:hover{opacity:.9}.guest-banner-dismiss[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;color:#ffffffe6;cursor:pointer;padding:.25rem;font-size:1rem}.guest-banner-dismiss[_ngcontent-%COMP%]:hover{color:#fff}"]})};var ke=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-main-layout"]],decls:8,vars:0,consts:[[1,"main-layout"],[1,"center-content","center-page"]],template:function(e,r){e&1&&(s(0,"app-maintenance-banner")(1,"app-guest-banner")(2,"app-navbar"),t(3,"div",0),s(4,"app-sidebar"),t(5,"main",1),s(6,"router-outlet"),n(),s(7,"app-right-sidebar"),n())},dependencies:[u,x,de,G,U,Q,$,W],styles:[".main-layout[_ngcontent-%COMP%]{display:flex;justify-content:center;min-height:100vh;background-color:#fff7e6;box-sizing:border-box;position:relative;width:100%}.center-content[_ngcontent-%COMP%]{flex:1;width:100%;margin-left:var(--sidebar-left-width, 12%);margin-right:var(--sidebar-right-width, 20%);padding:1.5rem 2rem;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:calc(100vh - var(--navbar-height, 4.5rem));box-sizing:border-box;transition:margin var(--transition-speed)}@media(max-width:1024px){.center-content[_ngcontent-%COMP%]{margin-right:0;padding:1rem 1.5rem}}@media(max-width:768px){.center-content[_ngcontent-%COMP%]{margin-left:0;margin-right:0;padding:.5rem;margin-top:0!important}}"]})};export{ke as MainLayoutComponent};
